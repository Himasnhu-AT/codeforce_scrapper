{
    "title": "E. Number Clicker",
    "timeLimit": {
        "value": 5.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Allen is playing Number Clicker on his phone.</p><p>He starts with an integer $$$u$$$ on the screen. Every second, he can press one of 3 buttons.</p><ol> <li> Turn $$$u \\to u+1 \\pmod{p}$$$. </li><li> Turn $$$u \\to u+p-1 \\pmod{p}$$$. </li><li> Turn $$$u \\to u^{p-2} \\pmod{p}$$$. </li></ol><p>Allen wants to press at most 200 buttons and end up with $$$v$$$ on the screen. Help him!</p>",
    "inputSpecification": "<p>The first line of the input contains 3 positive integers: $$$u, v, p$$$ ($$$0 \\le u, v \\le p-1$$$, $$$3 \\le p \\le 10^9 + 9$$$). $$$p$$$ is guaranteed to be prime.</p>",
    "outputSpecification": "<p>On the first line, print a single integer $$$\\ell$$$, the number of button presses. On the second line, print integers $$$c_1, \\dots, c_\\ell$$$, the button presses. For $$$1 \\le i \\le \\ell$$$, $$$1 \\le c_i \\le 3$$$.</p><p>We can show that the answer always exists.</p>",
    "samples": [
        {
            "input": "1 3 5<br/>",
            "output": "2<br/>1 1<br/>"
        },
        {
            "input": "3 2 5<br/>",
            "output": "1<br/>3<br/>"
        }
    ],
    "note": "<p>In the first example the integer on the screen changes as $$$1 \\to 2 \\to 3$$$.</p><p>In the second example the integer on the screen changes as $$$3 \\to 2$$$. </p>",
    "contestId": 995,
    "index": "E",
    "name": "Number Clicker",
    "type": "PROGRAMMING",
    "tags": [
        "divide and conquer",
        "graphs",
        "meet-in-the-middle",
        "number theory"
    ],
    "solvedCount": 629
}