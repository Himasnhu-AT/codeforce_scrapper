{
    "title": "E. Ehab's REAL Number Theory Problem",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given an array $$$a$$$ of length $$$n$$$ that has a special condition: every element in this array has at most 7 divisors. Find the length of the shortest non-empty subsequence of this array product of whose elements is a perfect square.</p><p>A sequence $$$a$$$ is a subsequence of an array $$$b$$$ if $$$a$$$ can be obtained from $$$b$$$ by deletion of several (possibly, zero or all) elements.</p>",
    "inputSpecification": "<p>The first line contains an integer $$$n$$$ ($$$1 \\le n \\le 10^5$$$)\u00a0\u2014 the length of $$$a$$$.</p><p>The second line contains $$$n$$$ integers $$$a_1$$$, $$$a_2$$$, $$$\\ldots$$$, $$$a_{n}$$$ ($$$1 \\le a_i \\le 10^6$$$)\u00a0\u2014 the elements of the array $$$a$$$.</p>",
    "outputSpecification": "<p>Output the length of the shortest non-empty subsequence of $$$a$$$ product of whose elements is a perfect square. If there are several shortest subsequences, you can find any of them. If there's no such subsequence, print \"-1\".</p>",
    "samples": [
        {
            "input": "\n3\n1 4 6\n",
            "output": "\n1"
        },
        {
            "input": "\n4\n2 3 6 6\n",
            "output": "\n2"
        },
        {
            "input": "\n3\n6 15 10\n",
            "output": "\n3"
        },
        {
            "input": "\n4\n2 3 5 7\n",
            "output": "\n-1"
        }
    ],
    "note": "<p>In the first sample, you can choose a subsequence $$$[1]$$$.</p><p>In the second sample, you can choose a subsequence $$$[6, 6]$$$.</p><p>In the third sample, you can choose a subsequence $$$[6, 15, 10]$$$.</p><p>In the fourth sample, there is no such subsequence.</p>",
    "contestId": 1325,
    "index": "E",
    "name": "Ehab's REAL Number Theory Problem",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "dfs and similar",
        "graphs",
        "number theory",
        "shortest paths"
    ],
    "solvedCount": 1861
}