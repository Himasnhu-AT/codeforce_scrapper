{
    "title": "H. Equal LCM Subsets",
    "timeLimit": {
        "value": 10.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given two sets of positive integers $$$A$$$ and $$$B$$$. You have to find two non-empty subsets $$$S_A \\subseteq A$$$, $$$S_B \\subseteq B$$$ so that the least common multiple (LCM) of the elements of $$$S_A$$$ is equal to the least common multiple (LCM) of the elements of $$$S_B$$$.</p>",
    "inputSpecification": "<p>The input consists of multiple test cases. The first line of the input contains one integer $$$t$$$ ($$$1 \\leq t \\leq 200$$$), the number of test cases.</p><p>For each test case, there is one line containing two integers $$$n, m$$$ ($$$1 \\leq n, m \\leq 1000$$$), the sizes of the sets $$$A$$$ and $$$B$$$, respectively.</p><p>The next line contains $$$n$$$ distinct integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$1 \\leq a_i \\leq 4 \\cdot 10^{36}$$$), the elements of $$$A$$$.</p><p>The next line contains $$$m$$$ distinct integers $$$b_1, b_2, \\ldots, b_m$$$ ($$$1 \\leq b_i \\leq 4 \\cdot 10^{36}$$$), the elements of $$$B$$$.</p><p>The sum of $$$n$$$ for all test cases and the sum of $$$m$$$ for all test cases is at most $$$1000$$$.</p>",
    "outputSpecification": "<p>For each test case, if there do not exist two subsets with equal least common multiple, output one line with <span class=\"tex-font-style-tt\">NO</span>.</p><p>Otherwise, output one line with <span class=\"tex-font-style-tt\">YES</span>, followed by a line with two integers $$$|S_A|, |S_B|$$$ ($$$1 \\leq |S_A| \\leq n$$$, $$$1 \\leq |S_B| \\leq m$$$), the sizes of the subsets $$$S_A$$$ and $$$S_B$$$</p><p>The next line should contain $$$|S_A|$$$ integers $$$x_1, x_2, \\ldots, x_{|S_A|}$$$, the elements of $$$S_A$$$, followed by a line with $$$|S_B|$$$ integers $$$y_1, y_2, \\ldots, y_{|S_B|}$$$, the elements of $$$S_B$$$. If there are multiple possible pairs of subsets, you can print any.</p>",
    "samples": [
        {
            "input": "\n4\n3 4\n5 6 7\n2 8 9 10\n4 4\n5 6 7 8\n2 3 4 9\n1 3\n1\n1 2 3\n5 6\n3 4 9 7 8\n2 15 11 14 20 12\n",
            "output": "\nNO\nYES\n1 2\n6\n2 3\nYES\n1 1\n1\n1\nYES\n3 2\n3 7 4\n12 14\n"
        }
    ],
    "note": null,
    "contestId": 1656,
    "index": "H",
    "name": "Equal LCM Subsets",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "math",
        "number theory"
    ],
    "solvedCount": 421
}