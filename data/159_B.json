{
    "title": "B. Matchmaker",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Polycarpus has <span class=\"tex-span\"><i>n</i></span> markers and <span class=\"tex-span\"><i>m</i></span> marker caps. Each marker is described by two numbers: <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\"><i>i</i></sub></span> is the color and <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\"><i>i</i></sub></span> is the diameter. Correspondingly, each cap is described by two numbers: <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>j</i></sub></span> is the color and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>j</i></sub></span> is the diameter. Cap <span class=\"tex-span\">(<i>a</i><sub class=\"lower-index\"><i>j</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>j</i></sub>)</span> can close marker <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>y</i><sub class=\"lower-index\"><i>i</i></sub>)</span> only if their diameters match, that is, <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>j</i></sub>\u2009=\u2009<i>y</i><sub class=\"lower-index\"><i>i</i></sub></span>. Besides, a marker is considered to be <span class=\"tex-font-style-it\">beautifully closed</span>, if the cap color and the marker color match, that is, <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>j</i></sub>\u2009=\u2009<i>x</i><sub class=\"lower-index\"><i>i</i></sub></span>.</p><p>Find the way to close the maximum number of markers. If there are several such ways, then choose the one that has the maximum number of <span class=\"tex-font-style-it\">beautifully closed</span> markers.</p>",
    "inputSpecification": "<p>The first input line contains two space-separated integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>,\u2009<i>m</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup></span>) \u2014 the number of markers and the number of caps, correspondingly. </p><p>Next <span class=\"tex-span\"><i>n</i></span> lines describe the markers. The <span class=\"tex-span\"><i>i</i></span>-th line contains two space-separated integers <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\"><i>i</i></sub></span>, <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>x</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>y</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u20091000</span>) \u2014 the <span class=\"tex-span\"><i>i</i></span>-th marker's color and diameter, correspondingly.</p><p>Next <span class=\"tex-span\"><i>m</i></span> lines describe the caps. The <span class=\"tex-span\"><i>j</i></span>-th line contains two space-separated integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>j</i></sub></span>, <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>j</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>j</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>j</i></sub>\u2009\u2264\u20091000</span>) \u2014 the color and diameter of the <span class=\"tex-span\"><i>j</i></span>-th cap, correspondingly.</p>",
    "outputSpecification": "<p>Print two space-separated integers <span class=\"tex-span\"><i>u</i>,\u2009<i>v</i></span>, where <span class=\"tex-span\"><i>u</i></span> is the number of closed markers and <span class=\"tex-span\"><i>v</i></span> is the number of <span class=\"tex-font-style-it\">beautifully closed</span> markers in the sought optimal way. Remember that you have to find the way to close the maximum number of markers, and if there are several such ways, you should choose the one where the number of <span class=\"tex-font-style-it\">beautifully closed</span> markers is maximum.</p>",
    "samples": [
        {
            "input": "3 4<br/>1 2<br/>3 4<br/>2 4<br/>5 4<br/>2 4<br/>1 1<br/>1 2<br/>",
            "output": "3 2<br/>"
        },
        {
            "input": "2 2<br/>1 2<br/>2 1<br/>3 4<br/>5 1<br/>",
            "output": "1 0<br/>"
        }
    ],
    "note": "<p>In the first test sample the first marker should be closed by the fourth cap, the second marker should be closed by the first cap and the third marker should be closed by the second cap. Thus, three markers will be closed, and two of them will be <span class=\"tex-font-style-it\">beautifully closed</span> \u2014 the first and the third markers.</p>",
    "contestId": 159,
    "index": "B",
    "name": "Matchmaker",
    "type": "PROGRAMMING",
    "tags": [
        "*special",
        "greedy",
        "sortings"
    ],
    "solvedCount": 3692
}