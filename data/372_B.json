{
    "title": "B. Counting Rectangles is Fun",
    "timeLimit": {
        "value": 4.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>There is an <span class=\"tex-span\"><i>n</i>\u2009\u00d7\u2009<i>m</i></span> rectangular grid, each cell of the grid contains a single integer: zero or one. Let's call the cell on the <span class=\"tex-span\"><i>i</i></span>-th row and the <span class=\"tex-span\"><i>j</i></span>-th column as <span class=\"tex-span\">(<i>i</i>,\u2009<i>j</i>)</span>.</p><p>Let's define a \"rectangle\" as four integers <span class=\"tex-span\"><i>a</i>,\u2009<i>b</i>,\u2009<i>c</i>,\u2009<i>d</i></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>a</i>\u2009\u2264\u2009<i>c</i>\u2009\u2264\u2009<i>n</i>;\u00a01\u2009\u2264\u2009<i>b</i>\u2009\u2264\u2009<i>d</i>\u2009\u2264\u2009<i>m</i>)</span>. Rectangle denotes a set of cells of the grid <span class=\"tex-span\">{(<i>x</i>,\u2009<i>y</i>)\u00a0:\u2009\u00a0<i>a</i>\u2009\u2264\u2009<i>x</i>\u2009\u2264\u2009<i>c</i>,\u2009<i>b</i>\u2009\u2264\u2009<i>y</i>\u2009\u2264\u2009<i>d</i>}</span>. Let's define a \"good rectangle\" as a rectangle that includes only the cells with zeros.</p><p>You should answer the following <span class=\"tex-span\"><i>q</i></span> queries: calculate the number of good rectangles all of which cells are in the given rectangle.</p>",
    "inputSpecification": "<p>There are three integers in the first line: <span class=\"tex-span\"><i>n</i></span>, <span class=\"tex-span\"><i>m</i></span> and <span class=\"tex-span\"><i>q</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>,\u2009<i>m</i>\u2009\u2264\u200940,\u20091\u2009\u2264\u2009<i>q</i>\u2009\u2264\u20093\u00b710<sup class=\"upper-index\">5</sup></span>). Each of the next <span class=\"tex-span\"><i>n</i></span> lines contains <span class=\"tex-span\"><i>m</i></span> characters \u2014 the grid. Consider grid rows are numbered from top to bottom, and grid columns are numbered from left to right. Both columns and rows are numbered starting from 1. </p><p>Each of the next <span class=\"tex-span\"><i>q</i></span> lines contains a query \u2014 four integers that describe the current rectangle, <span class=\"tex-span\"><i>a</i></span>, <span class=\"tex-span\"><i>b</i></span>, <span class=\"tex-span\"><i>c</i></span>, <span class=\"tex-span\"><i>d</i></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>a</i>\u2009\u2264\u2009<i>c</i>\u2009\u2264\u2009<i>n</i>;\u00a01\u2009\u2264\u2009<i>b</i>\u2009\u2264\u2009<i>d</i>\u2009\u2264\u2009<i>m</i>)</span>.</p>",
    "outputSpecification": "<p>For each query output an answer \u2014 a single integer in a separate line.</p>",
    "samples": [
        {
            "input": "5 5 5<br/>00101<br/>00000<br/>00001<br/>01000<br/>00001<br/>1 2 2 4<br/>4 5 4 5<br/>1 2 5 2<br/>2 2 4 5<br/>4 2 5 3<br/>",
            "output": "10<br/>1<br/>7<br/>34<br/>5<br/>"
        },
        {
            "input": "4 7 5<br/>0000100<br/>0000010<br/>0011000<br/>0000000<br/>1 7 2 7<br/>3 1 3 1<br/>2 3 4 5<br/>1 2 2 7<br/>2 2 4 7<br/>",
            "output": "3<br/>1<br/>16<br/>27<br/>52<br/>"
        }
    ],
    "note": "<p>For the first example, there is a <span class=\"tex-span\">5\u2009\u00d7\u20095</span> rectangular grid, and the first, the second, and the third queries are represented in the following image.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/a14c6e55936b5ea5b0cb2ca0c54e8f1e1342f697.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><ul> <li> For the first query, there are <span class=\"tex-span\">10</span> good rectangles, five <span class=\"tex-span\">1\u2009\u00d7\u20091</span>, two <span class=\"tex-span\">2\u2009\u00d7\u20091</span>, two <span class=\"tex-span\">1\u2009\u00d7\u20092</span>, and one <span class=\"tex-span\">1\u2009\u00d7\u20093</span>. </li><li> For the second query, there is only one <span class=\"tex-span\">1\u2009\u00d7\u20091</span> good rectangle. </li><li> For the third query, there are <span class=\"tex-span\">7</span> good rectangles, four <span class=\"tex-span\">1\u2009\u00d7\u20091</span>, two <span class=\"tex-span\">2\u2009\u00d7\u20091</span>, and one <span class=\"tex-span\">3\u2009\u00d7\u20091</span>. </li></ul>",
    "contestId": 372,
    "index": "B",
    "name": "Counting Rectangles is Fun",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "divide and conquer",
        "dp"
    ],
    "solvedCount": 2530
}