{
    "title": "E. There Should Be a Lot of Maximums",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a tree (a connected graph without cycles). Each vertex of the tree contains an integer. Let's define the $$$\\mathrm{MAD}$$$ (maximum double) parameter of the tree as the maximum integer that occurs in the vertices of the tree <span class=\"tex-font-style-bf\">at least</span> $$$2$$$ times. If no number occurs in the tree more than once, then we assume $$$\\mathrm{MAD}=0$$$.</p><p>Note that if you remove an edge from the tree, it splits into two trees. Let's compute the $$$\\mathrm{MAD}$$$ parameters of the two trees and take the maximum of the two values. Let the result be the <span class=\"tex-font-style-it\">value</span> of the deleted edge.</p><p>For each edge, find its value. Note that we don't actually delete any edges from the tree, the values are to be found independently.</p>",
    "inputSpecification": "<p>The first line contains one integer $$$n$$$ ($$$2 \\le n \\le 10^5$$$)\u00a0\u2014 the number of vertices in the tree.</p><p>Each of the next $$$n - 1$$$ lines contains two integers $$$u$$$ and $$$v$$$ ($$$1 \\le u, v \\le n$$$)\u00a0\u2014 the ends of an edge of the tree. It's guaranteed that the given edges form a valid tree.</p><p>The last line contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$1 \\le a_i \\le 10^9$$$)\u00a0\u2014 the numbers in the vertices.</p>",
    "outputSpecification": "<p>For each edge in the input order, print one number\u00a0\u2014 the maximum of the $$$\\mathrm{MAD}$$$ parameters of the two trees obtained after removing the given edge from the initial tree.</p>",
    "samples": [
        {
            "input": "\n5\n1 2\n2 3\n2 4\n1 5\n2 1 3 2 1\n",
            "output": "\n0\n2\n1\n2\n"
        },
        {
            "input": "\n6\n1 2\n1 3\n1 4\n4 5\n4 6\n1 2 3 1 4 5\n",
            "output": "\n1\n1\n0\n1\n1\n"
        }
    ],
    "note": "<center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/abe1061bef4931469b8f837655a781d2f5f086f2.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"302px\"/> </center><p>In the first example, after removing edge $$$(1, 2)$$$ no number repeats $$$2$$$ times in any of the resulting subtrees, so the answer is $$$\\max(0, 0)=0$$$.</p><p>After removing edge $$$(2, 3)$$$, in the bigger subtree, $$$1$$$ is repeated twice, and $$$2$$$ is repeated twice, so the $$$\\mathrm{MAD}$$$ of this tree is $$$2$$$.</p><p>After removing edge $$$(2, 4)$$$, in the bigger subtree, only the number $$$1$$$ is repeated, and in the second subtree, only one number appears, so the answer is $$$1$$$.</p><p>In the second example, if edge $$$1 \\leftrightarrow 4$$$ is not removed, then one of the subtrees will have two $$$1$$$, so the answer\u00a0\u2014 $$$1$$$. And if edge $$$1 \\leftrightarrow 4$$$ is deleted, both subtrees have no repeating values, so the answer is $$$0$$$.</p>",
    "contestId": 1805,
    "index": "E",
    "name": "There Should Be a Lot of Maximums",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "data structures",
        "dfs and similar",
        "dp",
        "trees",
        "two pointers"
    ],
    "solvedCount": 1543
}