{
    "title": "D. Hemose in ICPC ?",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p><span class=\"tex-font-style-bf\">This is an interactive problem!</span></p><p><span class=\"tex-font-style-it\">In the last regional contest Hemose, ZeyadKhattab and YahiaSherif \u2014 members of the team Carpe Diem \u2014 did not qualify to ICPC because of some <span class=\"tex-font-style-striked\">un</span>known reasons. Hemose was very sad and had a bad day after the contest, but ZeyadKhattab is very wise and knows Hemose very well, and does not want to see him sad.</span></p><p>Zeyad knows that Hemose loves tree problems, so he gave him a tree problem with a very special device.</p><p>Hemose has a weighted tree with $$$n$$$ nodes and $$$n-1$$$ edges. Unfortunately, Hemose doesn't remember the weights of edges.</p><p>Let's define $$$Dist(u, v)$$$ for $$$u\\neq v$$$ as the greatest common divisor of the weights of all edges on the path from node $$$u$$$ to node $$$v$$$.</p><p>Hemose has a special device. Hemose can give the device a set of nodes, and the device will return the largest $$$Dist$$$ between any two nodes from the set. More formally, if Hemose gives the device a set $$$S$$$ of nodes, the device will return the largest value of $$$Dist(u, v)$$$ over all pairs $$$(u, v)$$$ with $$$u$$$, $$$v$$$ $$$\\in$$$ $$$S$$$ and $$$u \\neq v$$$.</p><p>Hemose can use this Device <span class=\"tex-font-style-bf\">at most $$$12$$$ times</span>, and wants to find any two distinct nodes $$$a$$$, $$$b$$$, such that $$$Dist(a, b)$$$ is maximum possible. Can you help him?</p>",
    "inputSpecification": null,
    "outputSpecification": null,
    "samples": [
        {
            "input": "\n6\n1 2\n2 3\n2 4\n1 5\n5 6\n\n10\n\n2\n\n10",
            "output": "\n? 6 1 2 3 4 5 6\n\n? 3 3 1 5\n\n? 2 1 2\n\n! 1 2"
        }
    ],
    "note": "<p>The tree in the first sample:</p><p><img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/347826a9704665cac84fc55b1aeed3eb031f3979.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/></p>",
    "contestId": 1592,
    "index": "D",
    "name": "Hemose in ICPC ?",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "dfs and similar",
        "implementation",
        "interactive",
        "math",
        "number theory",
        "trees"
    ],
    "solvedCount": 2171
}