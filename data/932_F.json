{
    "title": "F. Escape Through Leaf",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a tree with <span class=\"tex-span\"><i>n</i></span> nodes (numbered from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>) rooted at node <span class=\"tex-span\">1</span>. Also, each node has two values associated with it. The values for <span class=\"tex-span\"><i>i</i></span>-th node are <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>i</i></sub></span>.</p><p>You can jump from a node to any node in its subtree. The cost of one jump from node <span class=\"tex-span\"><i>x</i></span> to node <span class=\"tex-span\"><i>y</i></span> is the product of <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>x</i></sub></span> and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>y</i></sub></span>. The total cost of a path formed by one or more jumps is sum of costs of individual jumps. For every node, calculate the minimum total cost to reach any leaf from that node. Pay attention, that root can never be leaf, even if it has degree <span class=\"tex-span\">1</span>.</p><p>Note that you cannot jump from a node to itself.</p>",
    "inputSpecification": "<p>The first line of input contains an integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup></span>)\u00a0\u2014 the number of nodes in the tree.</p><p>The second line contains <span class=\"tex-span\"><i>n</i></span> space-separated integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,\u2009\u2009<i>a</i><sub class=\"lower-index\">2</sub>,\u2009\u2009...,\u2009\u2009<i>a</i><sub class=\"lower-index\"><i>n</i></sub>(\u2009-\u200910<sup class=\"upper-index\">5</sup>\u2009\u2009\u2264\u2009\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2009\u2264\u2009\u200910<sup class=\"upper-index\">5</sup>)</span>.</p><p>The third line contains <span class=\"tex-span\"><i>n</i></span> space-separated integers <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\">1</sub>,\u2009\u2009<i>b</i><sub class=\"lower-index\">2</sub>,\u2009\u2009...,\u2009\u2009<i>b</i><sub class=\"lower-index\"><i>n</i></sub>(\u2009-\u200910<sup class=\"upper-index\">5</sup>\u2009\u2009\u2264\u2009\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2009\u2264\u2009\u200910<sup class=\"upper-index\">5</sup>)</span>.</p><p>Next <span class=\"tex-span\"><i>n</i>\u2009\u2009-\u2009\u20091</span> lines contains two space-separated integers <span class=\"tex-span\"><i>u</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>v</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009\u2009<i>v</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009\u2009<i>n</i></span>) describing edge between nodes <span class=\"tex-span\"><i>u</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>v</i><sub class=\"lower-index\"><i>i</i></sub></span> in the tree.</p>",
    "outputSpecification": "<p>Output <span class=\"tex-span\"><i>n</i></span> space-separated integers, <span class=\"tex-span\"><i>i</i></span>-th of which denotes the minimum cost of a path from node <span class=\"tex-span\"><i>i</i></span> to reach any leaf.</p>",
    "samples": [
        {
            "input": "3<br/>2 10 -1<br/>7 -7 5<br/>2 3<br/>2 1<br/>",
            "output": "10 50 0 "
        },
        {
            "input": "4<br/>5 -10 5 7<br/>-8 -80 -3 -10<br/>2 1<br/>2 4<br/>1 3<br/>",
            "output": "-300 100 0 0 "
        }
    ],
    "note": "<p>In the first example, node <span class=\"tex-span\">3</span> is already a leaf, so the cost is <span class=\"tex-span\">0</span>. For node <span class=\"tex-span\">2</span>, jump to node <span class=\"tex-span\">3</span> with cost <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">2</sub>\u2009\u00d7\u2009<i>b</i><sub class=\"lower-index\">3</sub>\u2009=\u200950</span>. For node <span class=\"tex-span\">1</span>, jump directly to node <span class=\"tex-span\">3</span> with cost <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>\u2009\u00d7\u2009<i>b</i><sub class=\"lower-index\">3</sub>\u2009=\u200910</span>.</p><p>In the second example, node <span class=\"tex-span\">3</span> and node <span class=\"tex-span\">4</span> are leaves, so the cost is <span class=\"tex-span\">0</span>. For node <span class=\"tex-span\">2</span>, jump to node <span class=\"tex-span\">4</span> with cost <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">2</sub>\u2009\u00d7\u2009<i>b</i><sub class=\"lower-index\">4</sub>\u2009=\u2009100</span>. For node <span class=\"tex-span\">1</span>, jump to node <span class=\"tex-span\">2</span> with cost <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>\u2009\u00d7\u2009<i>b</i><sub class=\"lower-index\">2</sub>\u2009=\u2009\u2009-\u2009400</span> followed by a jump from <span class=\"tex-span\">2</span> to <span class=\"tex-span\">4</span> with cost <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">2</sub>\u2009\u00d7\u2009<i>b</i><sub class=\"lower-index\">4</sub>\u2009=\u2009100</span>.</p>",
    "contestId": 932,
    "index": "F",
    "name": "Escape Through Leaf",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dp",
        "geometry"
    ],
    "solvedCount": 2660
}