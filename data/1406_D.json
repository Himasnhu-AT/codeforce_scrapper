{
    "title": "D. Three Sequences",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a sequence of $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$.</p><p>You have to construct two sequences of integers $$$b$$$ and $$$c$$$ with length $$$n$$$ that satisfy:</p><ul> <li> for every $$$i$$$ ($$$1\\leq i\\leq n$$$) $$$b_i+c_i=a_i$$$ </li><li> $$$b$$$ is non-decreasing, which means that for every $$$1&lt;i\\leq n$$$, $$$b_i\\geq b_{i-1}$$$ must hold </li><li> $$$c$$$ is non-increasing, which means that for every $$$1&lt;i\\leq n$$$, $$$c_i\\leq c_{i-1}$$$ must hold </li></ul><p>You have to minimize $$$\\max(b_i,c_i)$$$. In other words, you have to minimize the maximum number in sequences $$$b$$$ and $$$c$$$.</p><p>Also there will be $$$q$$$ changes, the $$$i$$$-th change is described by three integers $$$l,r,x$$$. You should add $$$x$$$ to $$$a_l,a_{l+1}, \\ldots, a_r$$$. </p><p>You have to find the minimum possible value of $$$\\max(b_i,c_i)$$$ for the initial sequence and for sequence after each change.</p>",
    "inputSpecification": "<p>The first line contains an integer $$$n$$$ ($$$1\\leq n\\leq 10^5$$$).</p><p>The secound line contains $$$n$$$ integers $$$a_1,a_2,\\ldots,a_n$$$ ($$$1\\leq i\\leq n$$$, $$$-10^9\\leq a_i\\leq 10^9$$$).</p><p>The third line contains an integer $$$q$$$ ($$$1\\leq q\\leq 10^5$$$).</p><p>Each of the next $$$q$$$ lines contains three integers $$$l,r,x$$$ ($$$1\\leq l\\leq r\\leq n,-10^9\\leq x\\leq 10^9$$$), desribing the next change. </p>",
    "outputSpecification": "<p>Print $$$q+1$$$ lines.</p><p>On the $$$i$$$-th ($$$1 \\leq i \\leq q+1$$$) line, print the answer to the problem for the sequence after $$$i-1$$$ changes.</p>",
    "samples": [
        {
            "input": "\n4\n2 -1 7 3\n2\n2 4 -3\n3 4 2\n",
            "output": "\n5\n5\n6\n"
        },
        {
            "input": "\n6\n-9 -10 -9 -6 -5 4\n3\n2 6 -9\n1 2 -10\n4 6 -3\n",
            "output": "\n3\n3\n3\n1\n"
        },
        {
            "input": "\n1\n0\n2\n1 1 -1\n1 1 -1\n",
            "output": "\n0\n0\n-1\n"
        }
    ],
    "note": "<p>In the first test:</p><ul> <li> The initial sequence $$$a = (2, -1, 7, 3)$$$. Two sequences $$$b=(-3,-3,5,5),c=(5,2,2,-2)$$$ is a possible choice. </li><li> After the first change $$$a = (2, -4, 4, 0)$$$. Two sequences $$$b=(-3,-3,5,5),c=(5,-1,-1,-5)$$$ is a possible choice. </li><li> After the second change $$$a = (2, -4, 6, 2)$$$. Two sequences $$$b=(-4,-4,6,6),c=(6,0,0,-4)$$$ is a possible choice. </li></ul>",
    "contestId": 1406,
    "index": "D",
    "name": "Three Sequences",
    "type": "PROGRAMMING",
    "tags": [
        "constructive algorithms",
        "data structures",
        "greedy",
        "math"
    ],
    "solvedCount": 3396
}