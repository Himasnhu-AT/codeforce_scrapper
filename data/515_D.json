{
    "title": "D. Drazil and Tiles",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Drazil created a following problem about putting <span class=\"tex-span\">1\u2009\u00d7\u20092</span> tiles into an <span class=\"tex-span\"><i>n</i>\u2009\u00d7\u2009<i>m</i></span> grid:</p><p>\"There is a grid with some cells that are empty and some cells that are occupied. You should use <span class=\"tex-span\">1\u2009\u00d7\u20092</span> tiles to cover all empty cells and no two tiles should cover each other. And you should print a solution about how to do it.\"</p><p>But Drazil doesn't like to write special checking program for this task. His friend, Varda advised him: \"how about asking contestant only to print the solution <span class=\"tex-font-style-it\">when it exists and it is unique</span>? Otherwise contestant may print '<span class=\"tex-font-style-tt\">Not unique</span>' \".</p><p>Drazil found that the constraints for this task may be much larger than for the original task!</p><p>Can you solve this new problem?</p><p>Note that you should print '<span class=\"tex-font-style-tt\">Not unique</span>' either when there exists no solution or when there exists several different solutions for the original task.</p>",
    "inputSpecification": "<p>The first line contains two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>,\u2009<i>m</i>\u2009\u2264\u20092000</span>).</p><p>The following <span class=\"tex-span\"><i>n</i></span> lines describe the grid rows. Character '<span class=\"tex-font-style-tt\">.</span>' denotes an empty cell, and the character '<span class=\"tex-font-style-tt\">*</span>' denotes a cell that is occupied.</p>",
    "outputSpecification": "<p>If there is no solution or the solution is not unique, you should print the string \"<span class=\"tex-font-style-tt\">Not unique</span>\".</p><p>Otherwise you should print how to cover all empty cells with <span class=\"tex-span\">1\u2009\u00d7\u20092</span> tiles. Use characters \"<span class=\"tex-font-style-tt\">&lt;&gt;</span>\" to denote horizontal tiles and characters \"^v\" to denote vertical tiles. Refer to the sample test for the output format example.</p>",
    "samples": [
        {
            "input": "3 3<br/>...<br/>.*.<br/>...<br/>",
            "output": "Not unique<br/>"
        },
        {
            "input": "4 4<br/>..**<br/>*...<br/>*.**<br/>....<br/>",
            "output": "<>**<br/>*^<><br/>*v**<br/><><><br/>"
        },
        {
            "input": "2 4<br/>*..*<br/>....<br/>",
            "output": "*<>*<br/><><><br/>"
        },
        {
            "input": "1 1<br/>.<br/>",
            "output": "Not unique<br/>"
        },
        {
            "input": "1 1<br/>*<br/>",
            "output": "*<br/>"
        },
        {
            "input": "<br/><>^<br/>^*v<br/>v<><br/>",
            "output": "<br/>^<><br/>v*^<br/><>v<br/>"
        }
    ],
    "note": "<p>In the first case, there are indeed two solutions:</p><pre class=\"verbatim\"><br/>&lt;&gt;^<br/>^*v<br/>v&lt;&gt;<br/></pre><p>and</p><pre class=\"verbatim\"><br/>^&lt;&gt;<br/>v*^<br/>&lt;&gt;v<br/></pre><p>so the answer is \"<span class=\"tex-font-style-tt\">Not unique</span>\".</p>",
    "contestId": 515,
    "index": "D",
    "name": "Drazil and Tiles",
    "type": "PROGRAMMING",
    "tags": [
        "constructive algorithms",
        "greedy"
    ],
    "solvedCount": 2769
}