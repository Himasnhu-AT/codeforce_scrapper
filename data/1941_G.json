{
    "title": "G. Rudolf and Subway",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Building bridges did not help Bernard, and he continued to be late everywhere. Then Rudolf decided to teach him how to use the subway.</p><p>Rudolf depicted the subway map as an undirected connected graph, without self-loops, where the vertices represent stations. There is at most one edge between any pair of vertices.</p><p>Two vertices are connected by an edge if it is possible to travel directly between the corresponding stations, bypassing other stations. The subway in the city where Rudolf and Bernard live has a color notation. This means that any edge between stations has a specific color. Edges of a specific color together form a subway line. A subway line <span class=\"tex-font-style-bf\">cannot</span> contain unconnected edges and forms a connected subgraph of the given subway graph.</p><p>An example of the subway map is shown in the figure.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/31e30f806576f7b01bfd85b0add099f0d5011898.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"360px\"/> </center><p>Rudolf claims that the route will be optimal if it passes through the minimum number of subway lines.</p><p>Help Bernard determine this minimum number for the given departure and destination stations.</p>",
    "inputSpecification": "<p>The first line contains an integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$)\u00a0\u2014 the number of test cases.</p><p>This is followed by descriptions of the test cases.</p><p>The first line of each test case contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\le n \\le 2 \\cdot 10^5, 1 \\le m \\le 2 \\cdot 10^5$$$) \u2014 the number of subway stations and the number of direct routes between stations (i.e., graph edges).</p><p>This is followed by $$$m$$$ lines \u2014 the description of the edges. Each line of the description contains three integers $$$u$$$, $$$v$$$, and $$$c$$$ ($$$1 \\le u, v \\le n, u \\ne v, 1 \\le c \\le 2 \\cdot 10^5$$$) \u2014 the numbers of the vertices between which there is an edge, and the color of this edge. It is guaranteed that edges of the same color form a connected subgraph of the given subway graph. There is at most one edge between a pair of any two vertices.</p><p>This is followed by two integers $$$b$$$ and $$$e$$$ ($$$1 \\le b, e \\le n$$$) \u2014 the departure and destination stations.</p><p>The sum of all $$$n$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$. The sum of all $$$m$$$ over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>",
    "outputSpecification": "<p>For each testcase, output a single integer \u2014 the minimum number of subway lines through which the route from station $$$b$$$ to station $$$e$$$ can pass.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">5</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">6 6</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 2 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 3 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">5 2 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">4 6 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 6 3</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">6 6</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 2 1</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 3 1</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5 2 2</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 4 2</div><div class=\"test-example-line test-example-line-even test-example-line-2\">4 6 2</div><div class=\"test-example-line test-example-line-even test-example-line-2\">3 6 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 6</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">6 6</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 2 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 3 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 2 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">4 6 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 6 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">6 6</div><div class=\"test-example-line test-example-line-even test-example-line-4\">4 3</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 2 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 3 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">4 1 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">2 3</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">6 7</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">1 2 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">1 3 34</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">4 6 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">6 3 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">2 3 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">5 3 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">4 5 43</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">1 6</div>",
            "output": "\n1\n2\n0\n1\n1\n"
        },
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">3</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">7 9</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 4 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 6 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 3 5</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 7 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">4 7 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 5 4</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">5 4 4</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 4 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 7 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">5 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">6 5</div><div class=\"test-example-line test-example-line-even test-example-line-2\">6 5 83691</div><div class=\"test-example-line test-example-line-even test-example-line-2\">4 1 83691</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5 4 83691</div><div class=\"test-example-line test-example-line-even test-example-line-2\">3 2 83691</div><div class=\"test-example-line test-example-line-even test-example-line-2\">4 3 83691</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">6 7</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">6 1 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">6 2 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 5 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 6 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 3 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 4 83574</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 5 83691</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 4</div>",
            "output": "\n2\n1\n2\n"
        }
    ],
    "note": "<p>The subway graph for the first example is shown in the figure in the problem statement.</p><p>In the first test case, from vertex $$$1$$$ to vertex $$$3$$$, you can travel along the path $$$1 \\rightarrow 2 \\rightarrow 3$$$, using only the green line.</p><p>In the second test case, from vertex $$$1$$$ to vertex $$$6$$$, you can travel along the path $$$1 \\rightarrow 2 \\rightarrow 3 \\rightarrow 6$$$, using the green and blue lines.</p><p>In the third test case, there is no need to travel from vertex $$$6$$$ to the same vertex, so the number of lines is $$$0$$$.</p><p>In the fourth test case, all edges of the graph belong to one line, so the answer is $$$1$$$.</p>",
    "contestId": 1941,
    "index": "G",
    "name": "Rudolf and Subway",
    "type": "PROGRAMMING",
    "tags": [
        "constructive algorithms",
        "dfs and similar",
        "graphs",
        "shortest paths"
    ],
    "solvedCount": 3109
}