{
    "title": "G. Forbidden Value",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Polycarp is editing a complicated computer program. First, variable $$$x$$$ is declared and assigned to $$$0$$$. Then there are instructions of two types: </p><ol> <li> <span class=\"tex-font-style-tt\">set $$$y$$$ $$$v$$$</span>\u00a0\u2014 assign $$$x$$$ a value $$$y$$$ or spend $$$v$$$ burles to remove that instruction (thus, not reassign $$$x$$$); </li><li> <span class=\"tex-font-style-tt\">if $$$y$$$ $$$\\dots$$$ end</span> block\u00a0\u2014 execute instructions inside the <span class=\"tex-font-style-tt\">if</span> block if the value of $$$x$$$ is $$$y$$$ and ignore the block otherwise. </li></ol><p><span class=\"tex-font-style-tt\">if</span> blocks can contain <span class=\"tex-font-style-tt\">set</span> instructions and other <span class=\"tex-font-style-tt\">if</span> blocks inside them.</p><p>However, when the value of $$$x$$$ gets assigned to $$$s$$$, the computer breaks and immediately catches fire. Polycarp wants to prevent that from happening and spend as few burles as possible.</p><p>What is the minimum amount of burles he can spend on removing <span class=\"tex-font-style-tt\">set</span> instructions to never assign $$$x$$$ to $$$s$$$?</p>",
    "inputSpecification": "<p>The first line contains two integers $$$n$$$ and $$$s$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$, $$$1 \\le s \\le 2 \\cdot 10^5$$$)\u00a0\u2014 the number of lines in the program and the forbidden value of $$$x$$$.</p><p>The following $$$n$$$ lines describe the program. Each line is one of three types: </p><ol> <li> <span class=\"tex-font-style-tt\">set $$$y$$$ $$$v$$$</span> $$$(0 \\le y \\le 2 \\cdot 10^5, 1 \\le v \\le 10^9)$$$; </li><li> <span class=\"tex-font-style-tt\">if $$$y$$$</span> $$$(0 \\le y \\le 2 \\cdot 10^5)$$$; </li><li> <span class=\"tex-font-style-tt\">end</span>. </li></ol><p>Each <span class=\"tex-font-style-tt\">if</span> instruction is matched by an <span class=\"tex-font-style-tt\">end</span> instruction. Each <span class=\"tex-font-style-tt\">end</span> instruction has an <span class=\"tex-font-style-tt\">if</span> instruction to match.</p>",
    "outputSpecification": "<p>Print a single integer\u00a0\u2014 the minimum amount of burles Polycarp can spend on removing <span class=\"tex-font-style-tt\">set</span> instructions to never assign $$$x$$$ to $$$s$$$.</p>",
    "samples": [
        {
            "input": "\n5 1\nset 1 10\nset 2 15\nif 2\nset 1 7\nend\n",
            "output": "\n17\n"
        },
        {
            "input": "\n7 2\nset 3 4\nif 3\nset 10 4\nset 2 7\nset 10 1\nend\nset 4 2\n",
            "output": "\n4\n"
        },
        {
            "input": "\n9 200\nif 0\nset 5 5\nif 5\nset 100 13\nend\nif 100\nset 200 1\nend\nend\n",
            "output": "\n1\n"
        },
        {
            "input": "\n1 10\nset 1 15\n",
            "output": "\n0\n"
        }
    ],
    "note": null,
    "contestId": 1455,
    "index": "G",
    "name": "Forbidden Value",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dp"
    ],
    "solvedCount": 399
}