{
    "title": "D. Learning to Paint",
    "timeLimit": {
        "value": 4.5,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<div class=\"epigraph\"><div class=\"epigraph-text\"><span class=\"tex-font-style-it\"><a href=\"https://soundcloud.com/jackaltroy/sets/primordial-beat-pristine-beat\">Pristine Beat - Touhou</a></span></div><div class=\"epigraph-source\">\u2800</div></div><p>Elsie is learning how to paint. She has a canvas of $$$n$$$ cells numbered from $$$1$$$ to $$$n$$$ and can paint any (potentially empty) subset of cells.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/ed6f8f4ccd59fffde86742e0f9400985218c9345.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"454px\"/> </center><p>Elsie has a 2D array $$$a$$$ which she will use to evaluate paintings. Let the maximal contiguous intervals of painted cells in a painting be $$$[l_1,r_1],[l_2,r_2],\\ldots,[l_x,r_x]$$$. The <span class=\"tex-font-style-it\">beauty</span> of the painting is the sum of $$$a_{l_i,r_i}$$$ over all $$$1 \\le i \\le x$$$. In the image above, the maximal contiguous intervals of painted cells are $$$[2,4],[6,6],[8,9]$$$ and the <span class=\"tex-font-style-it\">beauty</span> of the painting is $$$a_{2,4}+a_{6,6}+a_{8,9}$$$.</p><p>There are $$$2^n$$$ ways to paint the strip. Help Elsie find the $$$k$$$ largest possible values of the <span class=\"tex-font-style-it\">beauty</span> of a painting she can obtain, among all these ways. Note that these $$$k$$$ values do not necessarily have to be distinct. It is guaranteed that there are at least $$$k$$$ different ways to paint the canvas. </p>",
    "inputSpecification": "<p>The first line contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 10^3$$$)\u00a0\u2014 the number of test cases.</p><p>The first line of each test case contains $$$2$$$ integers $$$n$$$ and $$$k$$$ ($$$1 \\leq n \\leq 10^3$$$, $$$1 \\leq k \\leq \\min(2^n, 5 \\cdot 10^3)$$$)\u00a0\u2014 the number of cells and the number of largest values of the <span class=\"tex-font-style-it\">beauty</span> of a painting you must find.</p><p>The next $$$n$$$ lines of each test case describe $$$a$$$ where the $$$i$$$-th of which contains $$$n-i+1$$$ integers $$$a_{i,i},a_{i,i+1},\\ldots,a_{i,n}$$$ ($$$-10^6 \\leq a_{i,j} \\leq 10^6$$$).</p><p>It is guaranteed the sum of $$$n$$$ over all test cases does not exceed $$$10^3$$$ and the sum of $$$k$$$ over all test cases does not exceed $$$5 \\cdot 10^3$$$.</p>",
    "outputSpecification": "<p>For each test case, output $$$k$$$ integers in one line: the $$$i$$$-th of them must represent the $$$i$$$-th largest value of the <span class=\"tex-font-style-it\">beauty</span> of a painting Elsie can obtain.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">4</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">-5</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 4</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 -3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">-1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 8</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 4 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5</div><div class=\"test-example-line test-example-line-even test-example-line-4\">6 20</div><div class=\"test-example-line test-example-line-even test-example-line-4\">0 -6 -3 0 -6 -2</div><div class=\"test-example-line test-example-line-even test-example-line-4\">-7 -5 -2 -3 -4</div><div class=\"test-example-line test-example-line-even test-example-line-4\">7 0 -9 -4</div><div class=\"test-example-line test-example-line-even test-example-line-4\">2 -1 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 -2</div><div class=\"test-example-line test-example-line-even test-example-line-4\">-6</div>",
            "output": "\n0 -5 \n2 0 -1 -3 \n7 5 4 3 3 2 1 0 \n8 8 7 7 5 5 2 2 1 1 1 1 1 1 0 0 0 0 0 -1 \n"
        }
    ],
    "note": "<p>In the first test case, Elsie can either paint the only cell or not paint it. If she paints the only cell, the beauty of the painting is $$$-5$$$. If she chooses not to paint it, the beauty of the painting is $$$0$$$. Thus, the largest beauty she can obtain is $$$0$$$ and the second largest beauty she can obtain is $$$-5$$$. </p><p>Below is an illustration of the third test case.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/683bc79b6e2a21c607f87c71f287c8fce53a6397.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"189px\"/> </center>",
    "contestId": 1942,
    "index": "D",
    "name": "Learning to Paint",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "data structures",
        "dfs and similar",
        "dp",
        "greedy",
        "implementation",
        "sortings"
    ],
    "solvedCount": 2532
}