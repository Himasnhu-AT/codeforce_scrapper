{
    "title": "D. More Wrong",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p><span class=\"tex-font-style-bf\">This is an interactive problem.</span></p><p>The jury has hidden a permutation$$$^\\dagger$$$ $$$p$$$ of length $$$n$$$.</p><p>In one query, you can pick two integers $$$l$$$ and $$$r$$$ ($$$1 \\le l &lt; r \\le n$$$) by paying $$$(r - l)^2$$$ coins. In return, you will be given the number of inversions$$$^\\ddagger$$$ in the subarray $$$[p_l, p_{l + 1}, \\ldots p_r]$$$.</p><p>Find the index of the maximum element in $$$p$$$ by spending at most $$$5 \\cdot n^2$$$ coins.</p><p><span class=\"tex-font-style-bf\">Note: the grader is not adaptive</span>: the permutation is fixed before any queries are made.</p><p>$$$^\\dagger$$$ A permutation of length $$$n$$$ is an array consisting of $$$n$$$ distinct integers from $$$1$$$ to $$$n$$$ in arbitrary order. For example, $$$[2,3,1,5,4]$$$ is a permutation, but $$$[1,2,2]$$$ is not a permutation ($$$2$$$ appears twice in the array), and $$$[1,3,4]$$$ is also not a permutation ($$$n=3$$$ but there is $$$4$$$ in the array).</p><p>$$$^\\ddagger$$$ The number of inversions in an array is the number of pairs of indices $$$(i,j)$$$ such that $$$i &lt; j$$$ and $$$a_i &gt; a_j$$$. For example, the array $$$[10,2,6,3]$$$ contains $$$4$$$ inversions. The inversions are $$$(1,2),(1,3),(1,4)$$$, and $$$(3,4)$$$.</p>",
    "inputSpecification": "<p>Each test contains multiple test cases. The first line of input contains a single integer $$$t$$$ ($$$1 \\le t \\le 100$$$)\u00a0\u2014 the number of test cases.</p><p>The only line of each test case contains a single integer $$$n$$$ ($$$2 \\le n \\le 2000$$$)\u00a0\u2014 the length of the hidden permutation $$$p$$$.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$2000$$$.</p>",
    "outputSpecification": null,
    "samples": [
        {
            "input": "\n2\n4\n\n1\n\n0\n\n2\n\n1",
            "output": "\n\n? 1 3\n\n? 3 4\n\n! 4\n\n? 1 2\n\n! 1"
        }
    ],
    "note": "<p>In the first test, the interaction proceeds as follows:</p><p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Solution</td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Jury</td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Explanation</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">2</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">There are $$$2$$$ test cases.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">4</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">In the first test case, the hidden permutation is $$$[1,3,2,4]$$$, with length $$$4$$$.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 1 3 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">1</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution requests the number of inversions in the subarray $$$[1,3,2]$$$ by paying $$$4$$$ coins, and the jury responds with $$$1$$$.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 3 4 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">0</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution requests the number of inversions in the subarray $$$[2,4]$$$ by paying $$$1$$$ coin, and the jury responds with $$$0$$$.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">! 4 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution has somehow determined that $$$p_4 = 4$$$, and outputs it. Since the output is correct, the jury continues to the next test case.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">2</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">In the second test case, the hidden permutation is $$$[2,1]$$$, with length $$$2$$$.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 1 2 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">1</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution requests the number of inversions in the subarray $$$[2,1]$$$ by paying $$$1$$$ coin, and the jury responds with $$$1$$$.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">! 1 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution has somehow determined that $$$p_1 = 2$$$, and outputs it. Since the output is correct and there are no more test cases, the jury and the solution exit.</td></tr></tbody></table></p><p>Note that the line breaks in the example input and output are for the sake of clarity, and do not occur in the real interaction.</p>",
    "contestId": 1856,
    "index": "D",
    "name": "More Wrong",
    "type": "PROGRAMMING",
    "tags": [
        "divide and conquer",
        "interactive"
    ],
    "solvedCount": 3134
}