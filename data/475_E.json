{
    "title": "E. Strongly Connected City 2",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Imagine a city with <span class=\"tex-span\"><i>n</i></span> junctions and <span class=\"tex-span\"><i>m</i></span> streets. Junctions are numbered from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>.</p><p>In order to increase the traffic flow, mayor of the city has decided to make each street one-way. This means in the street between junctions <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span>, the traffic moves only from <span class=\"tex-span\"><i>u</i></span> to <span class=\"tex-span\"><i>v</i></span> or only from <span class=\"tex-span\"><i>v</i></span> to <span class=\"tex-span\"><i>u</i></span>. </p><p>The problem is to direct the traffic flow of streets in a way that maximizes the number of pairs <span class=\"tex-span\">(<i>u</i>,\u2009<i>v</i>)</span> where <span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>,\u2009<i>v</i>\u2009\u2264\u2009<i>n</i></span> and it is possible to reach junction <span class=\"tex-span\"><i>v</i></span> from <span class=\"tex-span\"><i>u</i></span> by passing the streets in their specified direction. Your task is to find out maximal possible number of such pairs.</p>",
    "inputSpecification": "<p>The first line of input contains integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span>, (<img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/04eeb89263cf960703bb1623c2ea2768fb2b63dd.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>), denoting the number of junctions and streets of the city.</p><p>Each of the following <span class=\"tex-span\"><i>m</i></span> lines contains two integers <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span>, (<span class=\"tex-span\"><i>u</i>\u2009\u2260\u2009<i>v</i></span>), denoting endpoints of a street in the city.</p><p>Between every two junctions there will be at most one street. It is guaranteed that before mayor decision (when all streets were two-way) it was possible to reach each junction from any other junction.</p>",
    "outputSpecification": "<p>Print the maximal number of pairs <span class=\"tex-span\">(<i>u</i>,\u2009<i>v</i>)</span> such that that it is possible to reach junction <span class=\"tex-span\"><i>v</i></span> from <span class=\"tex-span\"><i>u</i></span> after directing the streets.</p>",
    "samples": [
        {
            "input": "5 4<br/>1 2<br/>1 3<br/>1 4<br/>1 5<br/>",
            "output": "13<br/>"
        },
        {
            "input": "4 5<br/>1 2<br/>2 3<br/>3 4<br/>4 1<br/>1 3<br/>",
            "output": "16<br/>"
        },
        {
            "input": "2 1<br/>1 2<br/>",
            "output": "3<br/>"
        },
        {
            "input": "6 7<br/>1 2<br/>2 3<br/>1 3<br/>1 4<br/>4 5<br/>5 6<br/>6 4<br/>",
            "output": "27<br/>"
        }
    ],
    "note": "<p>In the first sample, if the mayor makes first and second streets one-way towards the junction <span class=\"tex-span\">1</span> and third and fourth streets in opposite direction, there would be 13 pairs of reachable junctions: <span class=\"tex-span\">{(1,\u20091),\u2009(2,\u20092),\u2009(3,\u20093),\u2009(4,\u20094),\u2009(5,\u20095),\u2009(2,\u20091),\u2009(3,\u20091),\u2009(1,\u20094),\u2009(1,\u20095),\u2009(2,\u20094),\u2009(2,\u20095),\u2009(3,\u20094),\u2009(3,\u20095)}</span></p>",
    "contestId": 475,
    "index": "E",
    "name": "Strongly Connected City 2",
    "type": "PROGRAMMING",
    "tags": [
        "dfs and similar"
    ],
    "solvedCount": 405
}