{
    "title": "F. Communication Towers",
    "timeLimit": {
        "value": 4.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>There are $$$n$$$ communication towers, numbered from $$$1$$$ to $$$n$$$, and $$$m$$$ bidirectional wires between them. Each tower has a certain set of frequencies that it accepts, the $$$i$$$-th of them accepts frequencies from $$$l_i$$$ to $$$r_i$$$.</p><p>Let's say that a tower $$$b$$$ is accessible from a tower $$$a$$$, if there exists a frequency $$$x$$$ and a sequence of towers $$$a=v_1, v_2, \\dots, v_k=b$$$, where consecutive towers in the sequence are directly connected by a wire, and each of them accepts frequency $$$x$$$. Note that accessibility is not transitive, i.\u2009e if $$$b$$$ is accessible from $$$a$$$ and $$$c$$$ is accessible from $$$b$$$, then $$$c$$$ may not be accessible from $$$a$$$.</p><p>Your task is to determine the towers that are accessible from the $$$1$$$-st tower.</p>",
    "inputSpecification": "<p>The first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$; $$$0 \\le m \\le 4 \\cdot 10^5$$$)\u00a0\u2014 the number of communication towers and the number of wires, respectively.</p><p>Then $$$n$$$ lines follows, the $$$i$$$-th of them contains two integers $$$l_i$$$ and $$$r_i$$$ ($$$1 \\le l_i \\le r_i \\le 2 \\cdot 10^5$$$)\u00a0\u2014 the boundaries of the acceptable frequencies for the $$$i$$$-th tower.</p><p>Then $$$m$$$ lines follows, the $$$i$$$-th of them contains two integers $$$v_i$$$ and $$$u_i$$$ ($$$1 \\le v_i, u_i \\le n$$$; $$$v_i \\ne u_i$$$)\u00a0\u2014 the $$$i$$$-th wire that connects towers $$$v_i$$$ and $$$u_i$$$. There are no two wires connecting the same pair of towers.</p><p> </p>",
    "outputSpecification": "<p>In a single line, print distinct integers from $$$1$$$ to $$$n$$$ in ascending order\u00a0\u2014 the indices of the communication towers that are accessible from the $$$1$$$-st tower.</p>",
    "samples": [
        {
            "input": "\n6 5\n3 5\n1 2\n2 4\n2 3\n3 3\n4 6\n1 3\n6 1\n3 5\n3 6\n2 3\n",
            "output": "\n1 3 5 6 "
        },
        {
            "input": "\n3 1\n2 3\n1 4\n1 1\n1 3\n",
            "output": "\n1 "
        },
        {
            "input": "\n5 5\n1 3\n2 3\n2 2\n3 5\n2 4\n1 2\n2 3\n3 4\n4 1\n4 5\n",
            "output": "\n1 2 3 4 5 "
        }
    ],
    "note": null,
    "contestId": 1814,
    "index": "F",
    "name": "Communication Towers",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "divide and conquer",
        "dsu"
    ],
    "solvedCount": 483
}