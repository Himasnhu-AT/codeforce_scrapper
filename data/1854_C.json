{
    "title": "C. Expected Destruction",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You have a set $$$S$$$ of $$$n$$$ distinct integers between $$$1$$$ and $$$m$$$.</p><p>Each second you do the following steps: </p><ol> <li> Pick an element $$$x$$$ in $$$S$$$ uniformly at random. </li><li> Remove $$$x$$$ from $$$S$$$. </li><li> If $$$x+1 \\leq m$$$ and $$$x+1$$$ is not in $$$S$$$, add $$$x+1$$$ to $$$S$$$. </li></ol><p>What is the expected number of seconds until $$$S$$$ is empty?</p><p>Output the answer modulo $$$1\\,000\\,000\\,007$$$.</p><p>Formally, let $$$P = 1\\,000\\,000\\,007$$$. It can be shown that the answer can be expressed as an irreducible fraction $$$\\frac{a}{b}$$$, where $$$a$$$ and $$$b$$$ are integers and $$$b \\not \\equiv 0 \\pmod{P}$$$. Output the integer equal to $$$a \\cdot b^{-1} \\bmod P$$$. In other words, output an integer $$$z$$$ such that $$$0 \\le z &lt; P$$$ and $$$z \\cdot b \\equiv a \\pmod{P}$$$.</p>",
    "inputSpecification": "<p>The first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\leq n \\leq m \\leq 500$$$)\u00a0\u2014 the number of elements in the set $$$S$$$ and the upper bound on the value of the elements in $$$S$$$.</p><p>The second line contains $$$n$$$ integers $$$S_1,\\,S_2,\\,\\dots,\\,S_n$$$ ($$$1 \\leq S_1 &lt; S_2 &lt; \\ldots &lt; S_n \\leq m$$$)\u00a0\u2014 the elements of the set $$$S$$$.</p>",
    "outputSpecification": "<p>Output a single integer\u00a0\u2014 the expected number of seconds until $$$S$$$ is empty, modulo $$$1\\,000\\,000\\,007$$$.</p>",
    "samples": [
        {
            "input": "\n2 3\n1 3\n",
            "output": "\n750000009\n"
        },
        {
            "input": "\n5 10\n1 2 3 4 5\n",
            "output": "\n300277731\n"
        },
        {
            "input": "\n5 10\n2 3 6 8 9\n",
            "output": "\n695648216\n"
        },
        {
            "input": "\n1 100\n1\n",
            "output": "\n100\n"
        }
    ],
    "note": "<p>For test 1, here is a list of all the possible scenarios and their probabilities:</p><ol> <li> $$$[1, 3]$$$ (50% chance) $$$\\to$$$ $$$[1]$$$ $$$\\to$$$ $$$[2]$$$ $$$\\to$$$ $$$[3]$$$ $$$\\to$$$ $$$[]$$$ </li><li> $$$[1, 3]$$$ (50% chance) $$$\\to$$$ $$$[2, 3]$$$ (50% chance) $$$\\to$$$ $$$[2]$$$ $$$\\to$$$ $$$[3]$$$ $$$\\to$$$ $$$[]$$$ </li><li> $$$[1, 3]$$$ (50% chance) $$$\\to$$$ $$$[2, 3]$$$ (50% chance) $$$\\to$$$ $$$[3]$$$ $$$\\to$$$ $$$[]$$$ </li></ol><p>Adding them up, we get $$$\\frac{1}{2}\\cdot 4 + \\frac{1}{4} \\cdot 4 + \\frac{1}{4} \\cdot 3 = \\frac{15}{4}$$$. We see that $$$750000009 \\cdot 4 \\equiv 15 \\pmod{1\\,000\\,000\\,007}$$$.</p>",
    "contestId": 1854,
    "index": "C",
    "name": "Expected Destruction",
    "type": "PROGRAMMING",
    "tags": [
        "combinatorics",
        "dp",
        "math",
        "probabilities"
    ],
    "solvedCount": 1412
}