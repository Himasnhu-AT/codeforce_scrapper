{
    "title": "E. Colorful Operations",
    "timeLimit": {
        "value": 4.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You have an array $$$a_1,a_2, \\dots, a_n$$$. Each element initially has value $$$0$$$ and color $$$1$$$. You are also given $$$q$$$ queries to perform: </p><ul> <li> <span class=\"tex-font-style-tt\">Color $$$l$$$ $$$r$$$ $$$c$$$</span>: Change the color of elements $$$a_l,a_{l+1},\\cdots,a_r$$$ to $$$c$$$ ($$$1 \\le l \\le r \\le n$$$, $$$1 \\le c \\le n$$$). </li><li> <span class=\"tex-font-style-tt\">Add $$$c$$$ $$$x$$$</span>: Add $$$x$$$ to values of all elements $$$a_i$$$ ($$$1 \\le i \\le n$$$) of color $$$c$$$ ($$$1 \\le c \\le n$$$, $$$-10^9 \\le x \\le 10^9$$$). </li><li> <span class=\"tex-font-style-tt\">Query $$$i$$$</span>: Print $$$a_i$$$ ($$$1 \\le i \\le n$$$). </li></ul>",
    "inputSpecification": "<p>The first line of input contains two integers $$$n$$$ and $$$q$$$ ($$$1 \\le n,q \\le 10^6$$$)\u00a0\u2014 the length of array $$$a$$$ and the number of queries you have to perform.</p><p>Each of the next $$$q$$$ lines contains the query given in the form described in the problem statement.</p>",
    "outputSpecification": "<p>Print the answers to the queries of the third type on separate lines.</p>",
    "samples": [
        {
            "input": "\n5 8\nColor 2 4 2\nAdd 2 2\nQuery 3\nColor 4 5 3\nColor 2 2 3\nAdd 3 3\nQuery 2\nQuery 5\n",
            "output": "\n2\n5\n3\n"
        },
        {
            "input": "\n2 7\nAdd 1 7\nQuery 1\nAdd 2 4\nQuery 2\nColor 1 1 1\nAdd 1 1\nQuery 2\n",
            "output": "\n7\n7\n8\n"
        }
    ],
    "note": "<p>The first sample test is explained below. Blue, red and green represent colors $$$1$$$, $$$2$$$ and $$$3$$$ respectively.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/d2661a19177a3f2fc179769e5c231baf89cb8e5c.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"454px\"/> </center>",
    "contestId": 1638,
    "index": "E",
    "name": "Colorful Operations",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "data structures",
        "implementation"
    ],
    "solvedCount": 1809
}