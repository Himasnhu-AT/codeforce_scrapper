{
    "title": "D. Nephren Runs a Cinema",
    "timeLimit": {
        "value": 2.5,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Lakhesh loves to make movies, so Nephren helps her run a cinema. We may call it No. 68 Cinema.</p><center><p><img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/61558e055f8ced114442e7bb5661924edc0d402a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/></p></center><p>However, one day, the No. 68 Cinema runs out of changes (they don't have 50-<span class=\"tex-font-style-it\">yuan</span> notes currently), but Nephren still wants to start their business. (Assume that <span class=\"tex-font-style-it\">yuan</span> is a kind of currency in Regulu Ere.)</p><p>There are three types of customers: some of them bring exactly a 50-<span class=\"tex-font-style-it\">yuan</span> note; some of them bring a 100-<span class=\"tex-font-style-it\">yuan</span> note and Nephren needs to give a 50-<span class=\"tex-font-style-it\">yuan</span> note back to him/her; some of them bring VIP cards so that they don't need to pay for the ticket.</p><p>Now <span class=\"tex-span\"><i>n</i></span> customers are waiting outside in queue. Nephren wants to know how many possible queues are there that they are able to run smoothly (i.e. every customer can receive his/her change), and that the number of 50-<span class=\"tex-font-style-it\">yuan</span> notes they have after selling tickets to all these customers is between <span class=\"tex-span\"><i>l</i></span> and <span class=\"tex-span\"><i>r</i></span>, inclusive. Two queues are considered different if there exists a customer whose type is different in two queues. As the number can be large, please output the answer modulo <span class=\"tex-span\"><i>p</i></span>.</p>",
    "inputSpecification": "<p>One line containing four integers <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup>)</span>, <span class=\"tex-span\"><i>p</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>p</i>\u2009\u2264\u20092\u00b710<sup class=\"upper-index\">9</sup>)</span>, <span class=\"tex-span\"><i>l</i></span> and <span class=\"tex-span\"><i>r</i></span> (<span class=\"tex-span\">0\u2009\u2264\u2009<i>l</i>\u2009\u2264\u2009<i>r</i>\u2009\u2264\u2009<i>n</i></span>). </p>",
    "outputSpecification": "<p>One line indicating the answer modulo <span class=\"tex-span\"><i>p</i></span>.</p>",
    "samples": [
        {
            "input": "4 97 2 3<br/>",
            "output": "13<br/>"
        },
        {
            "input": "4 100 0 4<br/>",
            "output": "35<br/>"
        }
    ],
    "note": "<p>We use A, B and C to indicate customers with 50-<span class=\"tex-font-style-it\">yuan</span> notes, customers with 100-<span class=\"tex-font-style-it\">yuan</span> notes and customers with VIP cards respectively.</p><p>For the first sample, the different possible queues that there are <span class=\"tex-span\">2</span> 50-<span class=\"tex-font-style-it\">yuan</span> notes left are AAAB, AABA, ABAA, AACC, ACAC, ACCA, CAAC, CACA and CCAA, and the different possible queues that there are <span class=\"tex-span\">3</span> 50-<span class=\"tex-font-style-it\">yuan</span> notes left are AAAC, AACA, ACAA and CAAA. So there are <span class=\"tex-span\">13</span> different queues satisfying the first sample. Similarly, there are <span class=\"tex-span\">35</span> different queues satisfying the second sample.</p>",
    "contestId": 896,
    "index": "D",
    "name": "Nephren Runs a Cinema",
    "type": "PROGRAMMING",
    "tags": [
        "chinese remainder theorem",
        "combinatorics",
        "math",
        "number theory"
    ],
    "solvedCount": 519
}