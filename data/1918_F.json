{
    "title": "F. Caterpillar on a Tree",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>The caterpillar decided to visit every node of the tree. Initially, it is sitting at the root.</p><p>The tree is represented as a rooted tree with the root at the node $$$1$$$. Each crawl to a neighboring node takes $$$1$$$ minute for the caterpillar. </p><p>And there is a trampoline under the tree. If the caterpillar detaches from the tree and falls onto the trampoline, it will end up at the root of the tree in $$$0$$$ seconds. But the trampoline is old and can withstand no more than $$$k$$$ caterpillar's falls.</p><p>What is the minimum time the caterpillar can take to visit all the nodes of the tree?</p><p>More formally, we need to find the minimum time required to visit all the nodes of the tree, if the caterpillar starts at the root (node $$$1$$$) and moves using two methods.</p><ol> <li>  Crawl along an edge to one of the neighboring nodes: takes $$$1$$$ minute. </li><li>  Teleport to the root: takes no time,  no new nodes become visited. </li></ol><p>The second method (teleportation) can be used at most $$$k$$$ times. The caterpillar can finish the journey at any node.</p>",
    "inputSpecification": "<p>The first line of the input contains two integers: $$$n$$$ ($$$2 \\le n \\le 2\\cdot 10^5$$$)\u00a0\u2014 the number of nodes in the tree, and $$$k$$$ ($$$0 \\le k \\le 10^9$$$)\u00a0\u2014 the maximum number of teleports to the root.</p><p>The second line contains $$$n-1$$$ integers $$$p_2$$$, $$$p_3$$$, ..., $$$p_n$$$ ($$$1 \\le p_i \\le n$$$)\u00a0\u2014 the ancestors in the tree for nodes $$$2, 3, \\ldots, n$$$; node $$$1$$$ is the root.</p>",
    "outputSpecification": "<p>Print a single number in a single line\u00a0\u2014 the minimum number of minutes required to visit all the nodes of the tree.</p>",
    "samples": [
        {
            "input": "\n8 1\n1 1 2 2 4 3 3\n",
            "output": "\n9\n"
        },
        {
            "input": "\n4 0\n4 4 1\n",
            "output": "\n4\n"
        }
    ],
    "note": "<p>The figure shows one of the ways to traverse the tree from the first test in 9 minutes. </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/b0546383764be829f89854cdfe48f26a671d9c3a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center>",
    "contestId": 1918,
    "index": "F",
    "name": "Caterpillar on a Tree",
    "type": "PROGRAMMING",
    "tags": [
        "dfs and similar",
        "graphs",
        "greedy",
        "implementation",
        "sortings",
        "trees"
    ],
    "solvedCount": 799
}