{
    "title": "F. Stuck Conveyor",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>This is an interactive problem.</p><p>There is an $$$n$$$ by $$$n$$$ grid of conveyor belts, in positions $$$(1, 1)$$$ through $$$(n, n)$$$ of a coordinate plane. Every other square in the plane is empty. Each conveyor belt can be configured to move boxes up ('<span class=\"tex-font-style-tt\">^</span>'), down ('<span class=\"tex-font-style-tt\">v</span>'), left ('<span class=\"tex-font-style-tt\">&lt;</span>'), or right ('<span class=\"tex-font-style-tt\">&gt;</span>'). If a box moves onto an empty square, it stops moving.</p><p>However, one of the $$$n^2$$$ belts is stuck, and will always move boxes in the same direction, no matter how it is configured. Your goal is to perform a series of tests to determine which conveyor belt is stuck, and the direction in which it sends items.</p><p>To achieve this, you can perform up to $$$25$$$ tests. In each test, you assign a direction to all $$$n^2$$$ belts, place a box on top of one of them, and then turn all of the conveyors on. </p><center><img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/b48c498e1780a3aac3f10d6a17de8192a6868594.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/><span class=\"tex-font-size-small\">One possible result of a query with $$$n=4$$$. In this case, the box starts at $$$(2, 2)$$$. If there were no stuck conveyor, it would end up at $$$(5, 4)$$$, but because of the stuck '<span class=\"tex-font-style-tt\">&gt;</span>' conveyor at $$$(3, 3)$$$, it enters an infinite loop.</span></center><p>The conveyors move the box around too quickly for you to see, so the only information you receive from a test is whether the box eventually stopped moving, and if so, the coordinates of its final position.</p>",
    "inputSpecification": null,
    "outputSpecification": null,
    "samples": [
        {
            "input": "\n3\n\n\n\n\n-1 -1\n\n\n\n\n0 2",
            "output": "\n\n? 2 2\n>><\n>>v\n^<<\n\n? 1 1\n>><\n>>v\n^<<\n\n! 1 2 ^"
        },
        {
            "input": "\n4\n\n\n\n\n\n-1 -1",
            "output": "\n\n? 2 2\nv>v<\n^v<v\nv>v^\n>v>v\n\n! 3 3 >"
        }
    ],
    "note": "<p>For the first query of the first sample input, the box starts on $$$(2, 2)$$$ and enters an infinite loop containing rows $$$2$$$ and $$$3$$$. Because the stuck conveyor is in row $$$1$$$, it does not affect the outcome of the query.</p><p>For the second query of the first sample input, the conveyors are configured in the same way, but the box starts on $$$(1, 1)$$$. If there were no stuck conveyor, it would enter an infinite loop between $$$(1, 2)$$$ and $$$(1, 3)$$$. However, the stuck conveyor redirects it to $$$(0, 2)$$$.</p><p>After these two queries, the program is able to determine that the stuck conveyor is at $$$(1, 2)$$$ and directs items upward.</p><p>The query for the second sample input corresponds to the picture above. After asking the query, there are many possibilities for the stuck conveyor, but the program correctly guesses that it is at $$$(3, 3)$$$ and directs items to the right.</p>",
    "contestId": 1838,
    "index": "F",
    "name": "Stuck Conveyor",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "constructive algorithms",
        "interactive"
    ],
    "solvedCount": 304
}