{
    "title": "B. Lipshitz Sequence",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>A function <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/2f07df5c4af1af0378cc7859607253a89e341f3b.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> is called Lipschitz continuous if there is a real constant <span class=\"tex-span\"><i>K</i></span> such that the inequality <span class=\"tex-span\">|<i>f</i>(<i>x</i>)\u2009-\u2009<i>f</i>(<i>y</i>)|\u2009\u2264\u2009<i>K</i>\u00b7|<i>x</i>\u2009-\u2009<i>y</i>|</span> holds for all <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/38cf78ee7e5e196f47739d8e2f90ad8196eef553.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>. We'll deal with a more... discrete version of this term.</p><p>For an array <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/ff64cafd17d3b049f6048c69500dfcb615d3f375.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>, we define it's Lipschitz constant <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/539010632b4d4ca811bfa977e7820e3abe5f2fae.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> as follows:</p><ul> <li> if <span class=\"tex-span\"><i>n</i>\u2009&lt;\u20092</span>, <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4408c649f3ff72675e50b77c47abde2338612a63.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </li><li> if <span class=\"tex-span\"><i>n</i>\u2009\u2265\u20092</span>, <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/96a21f7d56a33aed6c08988a969895ed2788f932.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> over all <span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009&lt;\u2009<i>j</i>\u2009\u2264\u2009<i>n</i></span> </li></ul><p>In other words, <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/dc5c983dd5ec31fcb548359077409fdc9f959ad1.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> is the smallest non-negative integer such that <span class=\"tex-span\">|<i>h</i>[<i>i</i>]\u2009-\u2009<i>h</i>[<i>j</i>]|\u2009\u2264\u2009<i>L</i>\u00b7|<i>i</i>\u2009-\u2009<i>j</i>|</span> holds for all <span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>,\u2009<i>j</i>\u2009\u2264\u2009<i>n</i></span>.</p><p>You are given an array <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/515376bdf4e0cb52e5c7435e579cb212490e9db2.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> of size <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>q</i></span> queries of the form <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span>. For each query, consider the subarray <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/c884fec5726a1dc470ccf9dcdbdb93e48641ba63.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>; determine the sum of Lipschitz constants of <span class=\"tex-font-style-bf\">all subarrays</span> of <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/63c2fec5ac52e647308cdc25e4089eaabd2d4bea.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p>",
    "inputSpecification": "<p>The first line of the input contains two space-separated integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>q</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009100\u2009000</span> and <span class=\"tex-span\">1\u2009\u2264\u2009<i>q</i>\u2009\u2264\u2009100</span>)\u00a0\u2014 the number of elements in array <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/515376bdf4e0cb52e5c7435e579cb212490e9db2.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> and the number of queries respectively.</p><p>The second line contains <span class=\"tex-span\"><i>n</i></span> space-separated integers <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/870bb36b2ac35fdc7e1ba3db60a75eaf804c5d2d.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> (<img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/25f4eda9373a97ed7c6fd3cfd5fe1e70baccdf01.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>).</p><p>The following <span class=\"tex-span\"><i>q</i></span> lines describe queries. The <span class=\"tex-span\"><i>i</i></span>-th of those lines contains two space-separated integers <span class=\"tex-span\"><i>l</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>l</i><sub class=\"lower-index\"><i>i</i></sub>\u2009&lt;\u2009<i>r</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i></span>).</p>",
    "outputSpecification": "<p>Print the answers to all queries in the order in which they are given in the input. For the <span class=\"tex-span\"><i>i</i></span>-th query, print one line containing a single integer\u00a0\u2014 the sum of Lipschitz constants of all subarrays of <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/7436332d0ff76523fd4bdfcfd4cbc42df6b75dac.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p>",
    "samples": [
        {
            "input": "10 4<br/>1 5 2 9 1 3 4 2 1 7<br/>2 4<br/>3 8<br/>7 10<br/>1 9<br/>",
            "output": "17<br/>82<br/>23<br/>210<br/>"
        },
        {
            "input": "7 6<br/>5 7 7 4 6 6 2<br/>1 2<br/>2 3<br/>2 6<br/>1 7<br/>4 7<br/>3 5<br/>",
            "output": "2<br/>0<br/>22<br/>59<br/>16<br/>8<br/>"
        }
    ],
    "note": "<p>In the first query of the first sample, the Lipschitz constants of subarrays of <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/ddadffaf9e222576b1abb771dcd83dbad588d7fe.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> with length at least <span class=\"tex-span\">2</span> are:</p><ul> <li> <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/887651f76ac57b8f2b2dbd46c6ac2335ac2a270a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </li><li> <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/e9eed4a49028e9bd234162d9da74fd4f86481378.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </li><li> <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/16eff35d7bd22d3e34c55fc95cc6c59212d5b1c8.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </li></ul><p>The answer to the query is their sum.</p>",
    "contestId": 601,
    "index": "B",
    "name": "Lipshitz Sequence",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "math"
    ],
    "solvedCount": 2071
}