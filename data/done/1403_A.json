{
    "title": "A. The Potion of Great Power",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Once upon a time, in the <span class=\"tex-font-style-it\">Land of the Shamans</span>, everyone lived on the <span class=\"tex-font-style-it\">Sky-High Beanstalk</span>. Each shaman had a unique identifying number $$$i$$$ between $$$0$$$ and $$$N-1$$$, and an altitude value\u00a0$$$H_i$$$, representing how high he lived above ground level. The distance between two altitudes is the absolute value of their difference.</p><p>All shamans lived together in peace, until one of them stole the formula of the world-famous <span class=\"tex-font-style-it\">Potion\u00a0of\u00a0Great\u00a0Power</span>. To cover his/her tracks, the <span class=\"tex-font-style-it\">Thief</span> has put a <span class=\"tex-font-style-it\">Curse</span> on the land: most inhabitants could no longer trust each other...</p><p>Despite the very difficult circumstances, the <span class=\"tex-font-style-it\">Order of Good Investigators</span> have gained the following information about the <span class=\"tex-font-style-it\">Curse</span>: </p><ul> <li> When the <span class=\"tex-font-style-it\">Curse</span> first takes effect, everyone stops trusting each other.  </li><li> The <span class=\"tex-font-style-it\">Curse</span> is unstable: at the end of each day (exactly at midnight), one pair of shamans will start or stop trusting each other.  </li><li> Unfortunately, each shaman will only ever trust at most $$$D$$$ others at any given time. </li></ul> They have also reconstructed a log of who trusted whom: for each night they know which pair of shamans started/stopped trusting each other.<p>They believe the <span class=\"tex-font-style-it\">Thief</span> has whispered the formula to an <span class=\"tex-font-style-it\">Evil Shaman</span>. To avoid detection, both of them visited the home of one of their (respective) trusted friends. During the visit, the <span class=\"tex-font-style-it\">Thief</span> whispered the formula to the <span class=\"tex-font-style-it\">Evil Shaman</span> through the window. (Note: this trusted friend did not have to be home at the time. In fact, it's even possible that they visited each other's houses \u2013 shamans are weird.)</p><p>Fortunately, whispers only travel short distances, so the <span class=\"tex-font-style-it\">Order</span> knows the two trusted friends visited (by the <span class=\"tex-font-style-it\">Thief</span> and the <span class=\"tex-font-style-it\">Evil Shaman</span>) must live very close to each other.</p><p>They ask you to help with their investigation. They would like to test their suspicions: what if the <span class=\"tex-font-style-it\">Thief</span> was $$$x$$$, the <span class=\"tex-font-style-it\">Evil Shaman</span> was $$$y$$$, and the formula was whispered on day $$$v$$$? What is the smallest distance the whispered formula had to travel? That is, what is the minimum distance between the apartments of some shamans $$$x'$$$ and $$$y'$$$ (i.e. $$$\\min\\left(\\left|H_{x'} - H_{y'}\\right|\\right)$$$), such that $$$x'$$$ was a trusted friend of $$$x$$$ and $$$y'$$$ was a trusted friend of $$$y$$$ on day\u00a0$$$v$$$?</p><p>They will share all their information with you, then ask you a number of questions. You need to answer each question immediately, before receiving the next one.</p>",
    "inputSpecification": null,
    "outputSpecification": null,
    "samples": [
        {
            "input": "\n6 5 11 4\n2 42 1000 54 68 234\n0 1\n2 0\n3 4\n3 5\n3 5\n1 3\n5 3\n0 5\n3 0\n1 3\n3 5\n0 3 4\n3 0 8\n0 5 5\n3 0 11",
            "output": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n26\n0\n1000000000\n14"
        }
    ],
    "note": "<p>Example queries: <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/f82c0f786f11702682410c3389bebcb47f4d1119.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/></p><p>Evolution of friendships: <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/62b579f7859dcebdfb29bbe7979e08cf0ca09bc5.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/></p>",
    "contestId": 1403,
    "index": "A",
    "name": "The Potion of Great Power",
    "type": "PROGRAMMING",
    "tags": [
        "*special",
        "2-sat",
        "binary search",
        "data structures",
        "graphs",
        "interactive",
        "sortings",
        "two pointers"
    ],
    "solvedCount": 288
}