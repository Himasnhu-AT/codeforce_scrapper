{
    "title": "E. Cross Sum",
    "timeLimit": {
        "value": 7.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>Genos has been given <span class=\"tex-span\"><i>n</i></span> distinct lines on the Cartesian plane. Let <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/8d78ee8afbfce85cba4f37a7aaca3025736e21af.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> be a list of intersection points of these lines. A single point might appear multiple times in this list if it is the intersection of multiple pairs of lines. The order of the list does not matter.</p><p>Given a query point <span class=\"tex-span\">(<i>p</i>,\u2009<i>q</i>)</span>, let <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4a24828121fdc1d155b48be3b649104643ec82d6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> be the corresponding list of distances of all points in <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/8d78ee8afbfce85cba4f37a7aaca3025736e21af.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> to the query point. Distance here refers to euclidean distance. As a refresher, the euclidean distance between two points <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">1</sub>,\u2009<i>y</i><sub class=\"lower-index\">1</sub>)</span> and <span class=\"tex-span\">(<i>x</i><sub class=\"lower-index\">2</sub>,\u2009<i>y</i><sub class=\"lower-index\">2</sub>)</span> is <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/f408a42810c810bb0c1b48bed7965253b7ef8bb5.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p><p>Genos is given a point <span class=\"tex-span\">(<i>p</i>,\u2009<i>q</i>)</span> and a positive integer <span class=\"tex-span\"><i>m</i></span>. He is asked to find the sum of the <span class=\"tex-span\"><i>m</i></span> smallest elements in <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4a24828121fdc1d155b48be3b649104643ec82d6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>. Duplicate elements in <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4a24828121fdc1d155b48be3b649104643ec82d6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> are treated as separate elements. Genos is intimidated by Div1 E problems so he asked for your help.</p>",
    "inputSpecification": "<p>The first line of the input contains a single integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200950\u2009000</span>)\u00a0\u2014 the number of lines.</p><p>The second line contains three integers <span class=\"tex-span\"><i>x</i></span>, <span class=\"tex-span\"><i>y</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">|<i>x</i>|,\u2009|<i>y</i>|\u2009\u2264\u20091\u2009000\u2009000</span>, <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/01ce03007490c98e1e8162dbb111ae757e9ebfb7.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>)\u00a0\u2014 the encoded coordinates of the query point and the integer <span class=\"tex-span\"><i>m</i></span> from the statement above. The query point <span class=\"tex-span\">(<i>p</i>,\u2009<i>q</i>)</span> is obtained as <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/80fccdaeed9634edfe6509dc0ccd95f6ebce2097.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>. In other words, divide <span class=\"tex-span\"><i>x</i></span> and <span class=\"tex-span\"><i>y</i></span> by <span class=\"tex-span\">1000</span> to get the actual query point. <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/806e2dcb8b2141a16ec2df446632c04419eb64df.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> denotes the length of the list <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4a24828121fdc1d155b48be3b649104643ec82d6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> and it is guaranteed that <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/c4ab82e80f721b9c986e67272f07fdb79202f4f6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p><p>Each of the next <span class=\"tex-span\"><i>n</i></span> lines contains two integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">|<i>a</i><sub class=\"lower-index\"><i>i</i></sub>|,\u2009|<i>b</i><sub class=\"lower-index\"><i>i</i></sub>|\u2009\u2264\u20091\u2009000\u2009000</span>)\u00a0\u2014 the parameters for a line of the form: <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/8ab82d7653a40d408f8f6eb56ac6fcaf6ce2233e.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>. It is guaranteed that no two lines are the same, that is <span class=\"tex-span\">(<i>a</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub>)\u2009\u2260\u2009(<i>a</i><sub class=\"lower-index\"><i>j</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>j</i></sub>)</span> if <span class=\"tex-span\"><i>i</i>\u2009\u2260\u2009<i>j</i></span>.</p>",
    "outputSpecification": "<p>Print a single real number, the sum of <span class=\"tex-span\"><i>m</i></span> smallest elements of <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/4a24828121fdc1d155b48be3b649104643ec82d6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>. Your answer will be considered correct if its absolute or relative error does not exceed <span class=\"tex-span\">10<sup class=\"upper-index\">\u2009-\u20096</sup></span>.</p><p>To clarify, let's assume that your answer is <span class=\"tex-span\"><i>a</i></span> and the answer of the jury is <span class=\"tex-span\"><i>b</i></span>. The checker program will consider your answer correct if <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/76ab5391d53bd44cce8a5282927f339476ebec6a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p>",
    "samples": [
        {
            "input": "4<br/>1000 1000 3<br/>1000 0<br/>-1000 0<br/>0 5000<br/>0 -5000<br/>",
            "output": "14.282170363<br/>"
        },
        {
            "input": "2<br/>-1000000 -1000000 1<br/>1000000 -1000000<br/>999999 1000000<br/>",
            "output": "2000001000.999999500<br/>"
        },
        {
            "input": "3<br/>-1000 1000 3<br/>1000 0<br/>-1000 2000<br/>2000 -1000<br/>",
            "output": "6.000000000<br/>"
        },
        {
            "input": "5<br/>-303667 189976 10<br/>-638 116487<br/>-581 44337<br/>1231 -756844<br/>1427 -44097<br/>8271 -838417<br/>",
            "output": "12953.274911829<br/>"
        }
    ],
    "note": "<p>In the first sample, the three closest points have distances <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/5d034d9a89435d5056a183760eb7b3b7a12cfd15.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> and <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/6a579e51bf1610b7c34464ea52a3cadfb31a4f84.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/>.</p><p>In the second sample, the two lines <span class=\"tex-span\"><i>y</i>\u2009=\u20091000<i>x</i>\u2009-\u20091000</span> and <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/e4e30c00edb4440677bee169d45b6f9ac80cdac3.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> intersect at <span class=\"tex-span\">(2000000,\u20091999999000)</span>. This point has a distance of <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/5fd08d2caf504b763ce325cdb5478fdecfe37842.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> from <span class=\"tex-span\">(\u2009-\u20091000,\u2009\u2009-\u20091000)</span>.</p><p>In the third sample, the three lines all intersect at the point <span class=\"tex-span\">(1,\u20091)</span>. This intersection point is present three times in <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/8d78ee8afbfce85cba4f37a7aaca3025736e21af.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> since it is the intersection of three pairs of lines. Since the distance between the intersection point and the query point is <span class=\"tex-span\">2</span>, the answer is three times that or <span class=\"tex-span\">6</span>.</p>",
    "contestId": 607,
    "index": "E",
    "name": "Cross Sum",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "geometry"
    ],
    "solvedCount": 250
}