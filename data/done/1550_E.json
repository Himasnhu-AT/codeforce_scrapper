{
    "title": "E. Stringforces",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a string $$$s$$$ of length $$$n$$$. Each character is either one of the first $$$k$$$ lowercase Latin letters or a question mark.</p><p>You are asked to replace every question mark with one of the first $$$k$$$ lowercase Latin letters in such a way that the following value is maximized.</p><p>Let $$$f_i$$$ be the maximum length substring of string $$$s$$$, which consists entirely of the $$$i$$$-th Latin letter. A substring of a string is a contiguous subsequence of that string. If the $$$i$$$-th letter doesn't appear in a string, then $$$f_i$$$ is equal to $$$0$$$.</p><p>The value of a string $$$s$$$ is the minimum value among $$$f_i$$$ for all $$$i$$$ from $$$1$$$ to $$$k$$$.</p><p>What is the maximum value the string can have?</p>",
    "inputSpecification": "<p>The first line contains two integers $$$n$$$ and $$$k$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$; $$$1 \\le k \\le 17$$$)\u00a0\u2014 the length of the string and the number of first Latin letters used.</p><p>The second line contains a string $$$s$$$, consisting of $$$n$$$ characters. Each character is either one of the first $$$k$$$ lowercase Latin letters or a question mark.</p>",
    "outputSpecification": "<p>Print a single integer\u00a0\u2014 the maximum value of the string after every question mark is replaced with one of the first $$$k$$$ lowercase Latin letters.</p>",
    "samples": [
        {
            "input": "\n10 2\na??ab????b\n",
            "output": "\n4\n"
        },
        {
            "input": "\n9 4\n?????????\n",
            "output": "\n2\n"
        },
        {
            "input": "\n2 3\n??\n",
            "output": "\n0\n"
        },
        {
            "input": "\n15 3\n??b?babbc??b?aa\n",
            "output": "\n3\n"
        },
        {
            "input": "\n4 4\ncabd\n",
            "output": "\n1\n"
        }
    ],
    "note": "<p>In the first example the question marks can be replaced in the following way: \"<span class=\"tex-font-style-tt\">a<span class=\"tex-font-style-underline\">aa</span>ab<span class=\"tex-font-style-underline\">abbb</span>b</span>\". $$$f_1 = 4$$$, $$$f_2 = 4$$$, thus the answer is $$$4$$$. Replacing it like this is also possible: \"<span class=\"tex-font-style-tt\">a<span class=\"tex-font-style-underline\">aa</span>ab<span class=\"tex-font-style-underline\">bbbb</span>b</span>\". That way $$$f_1 = 4$$$, $$$f_2 = 6$$$, however, the minimum of them is still $$$4$$$.</p><p>In the second example one of the possible strings is \"<span class=\"tex-font-style-tt\"><span class=\"tex-font-style-underline\">aabbccdda</span></span>\".</p><p>In the third example at least one letter won't appear in the string, thus, the minimum of values $$$f_i$$$ is always $$$0$$$.</p>",
    "contestId": 1550,
    "index": "E",
    "name": "Stringforces",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "bitmasks",
        "brute force",
        "dp",
        "strings",
        "two pointers"
    ],
    "solvedCount": 1456
}