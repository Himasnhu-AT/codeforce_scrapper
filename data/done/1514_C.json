{
    "title": "C. Product 1 Modulo N",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Now you get Baby Ehab's first words: \"Given an integer $$$n$$$, find the longest subsequence of $$$[1,2, \\ldots, n-1]$$$ whose product is $$$1$$$ modulo $$$n$$$.\" Please solve the problem.</p><p>A sequence $$$b$$$ is a subsequence of an array $$$a$$$ if $$$b$$$ can be obtained from $$$a$$$ by deleting some (possibly all) elements. The product of an empty subsequence is equal to $$$1$$$.</p>",
    "inputSpecification": "<p>The only line contains the integer $$$n$$$ ($$$2 \\le n \\le 10^5$$$).</p>",
    "outputSpecification": "<p>The first line should contain a single integer, the length of the longest subsequence.</p><p>The second line should contain the elements of the subsequence, <span class=\"tex-font-style-bf\">in increasing order</span>.</p><p>If there are multiple solutions, you can print any.</p>",
    "samples": [
        {
            "input": "\n5\n",
            "output": "\n3\n1 2 3 "
        },
        {
            "input": "\n8\n",
            "output": "\n4\n1 3 5 7 "
        }
    ],
    "note": "<p>In the first example, the product of the elements is $$$6$$$ which is congruent to $$$1$$$ modulo $$$5$$$. The only longer subsequence is $$$[1,2,3,4]$$$. Its product is $$$24$$$ which is congruent to $$$4$$$ modulo $$$5$$$. Hence, the answer is $$$[1,2,3]$$$.</p>",
    "contestId": 1514,
    "index": "C",
    "name": "Product 1 Modulo N",
    "type": "PROGRAMMING",
    "tags": [
        "greedy",
        "number theory"
    ],
    "solvedCount": 14467
}