{
    "title": "E. Turtle and Intersected Segments",
    "timeLimit": {
        "value": 5.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>Turtle just received $$$n$$$ segments and a sequence $$$a_1, a_2, \\ldots, a_n$$$. The $$$i$$$-th segment is $$$[l_i, r_i]$$$.</p><p>Turtle will create an undirected graph $$$G$$$. If segment $$$i$$$ and segment $$$j$$$ intersect, then Turtle will add an undirected edge between $$$i$$$ and $$$j$$$ with a weight of $$$|a_i - a_j|$$$, for every $$$i \\ne j$$$.</p><p>Turtle wants you to calculate the sum of the weights of the edges of the minimum spanning tree of the graph $$$G$$$, or report that the graph $$$G$$$ has no spanning tree.</p><p>We say two segments $$$[l_1, r_1]$$$ and $$$[l_2, r_2]$$$ intersect if and only if $$$\\max(l_1, l_2) \\le \\min(r_1, r_2)$$$.</p>",
    "inputSpecification": "<p>Each test contains multiple test cases. The first line contains the number of test cases $$$t$$$ ($$$1 \\le t \\le 10^5$$$). The description of the test cases follows.</p><p>The first line of each test case contains a single integer $$$n$$$ ($$$2 \\le n \\le 5 \\cdot 10^5$$$) \u2014 the number of segments.</p><p>The $$$i$$$-th of the following $$$n$$$ lines contains three integers $$$l_i, r_i, a_i$$$ ($$$1 \\le l_i \\le r_i \\le 10^9, 1 \\le a_i \\le 10^9$$$) \u2014 the $$$i$$$-th segment and the $$$i$$$-th element of the sequence.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$5 \\cdot 10^5$$$.</p>",
    "outputSpecification": "<p>For each test case, output a single integer \u2014 the sum of the weights of the edges of the minimum spanning tree of the graph $$$G$$$. If the graph $$$G$$$ has no spanning tree, output $$$-1$$$.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">4</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">5</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 7 3</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 4 6</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 5 5</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">6 7 9</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 4 4</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 7 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 3 6</div><div class=\"test-example-line test-example-line-even test-example-line-2\">4 5 5</div><div class=\"test-example-line test-example-line-even test-example-line-2\">6 7 9</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 1 4</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">4</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 4 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 2 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 4 5</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 4 4</div><div class=\"test-example-line test-example-line-even test-example-line-4\">3</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 3 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">2 3 3</div><div class=\"test-example-line test-example-line-even test-example-line-4\">4 5 8</div>",
            "output": "\n9\n13\n4\n-1\n"
        }
    ],
    "note": "<p>In the first test case, the graph $$$G$$$ is as follows:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/8d89f2298ef4fc00290d7966284cae9c08bad0d7.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>One of the minimum spanning trees of $$$G$$$ is as follows:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/e1afbdd51872e15b728aacdbb4e0bce51629f562.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>The sum of the weights of the edges of the minimum spanning tree is $$$9$$$.</p><p>In the second test case, the graph $$$G$$$ is as follows:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/f09ec7e154e1262dbec5b6ac75db4b99142d5f11.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>$$$G$$$ is already a tree, and the sum of the weights of the tree is $$$13$$$.</p><p>In the third test case, the graph $$$G$$$ is as follows:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/27809baf0bff50a938ffeecc9d0988099a3dcc3a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>In the fourth test case, the graph $$$G$$$ is as follows:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/1f7a58738c0da633de120c82f4f14c7d25305143.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>It's easy to see that $$$G$$$ is not connected, so $$$G$$$ has no spanning tree.</p>",
    "contestId": 1981,
    "index": "E",
    "name": "Turtle and Intersected Segments",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dsu",
        "graphs",
        "greedy"
    ],
    "solvedCount": 501
}