{
    "title": "G. Multidimensional Queries",
    "timeLimit": {
        "value": 6.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given an array $$$a$$$ of $$$n$$$ points in $$$k$$$-dimensional space. Let the distance between two points $$$a_x$$$ and $$$a_y$$$ be $$$\\sum \\limits_{i = 1}^{k} |a_{x, i} - a_{y, i}|$$$ (it is also known as Manhattan distance).</p><p>You have to process $$$q$$$ queries of the following two types:</p><ul><li> $$$1$$$ $$$i$$$ $$$b_1$$$ $$$b_2$$$ ... $$$b_k$$$ \u2014 set $$$i$$$-th element of $$$a$$$ to the point $$$(b_1, b_2, \\dots, b_k)$$$;</li><li> $$$2$$$ $$$l$$$ $$$r$$$ \u2014 find the maximum distance between two points $$$a_i$$$ and $$$a_j$$$, where $$$l \\le i, j \\le r$$$.</li></ul>",
    "inputSpecification": "<p>The first line contains two numbers $$$n$$$ and $$$k$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$, $$$1 \\le k \\le 5$$$) \u2014 the number of elements in $$$a$$$ and the number of dimensions of the space, respectively.</p><p>Then $$$n$$$ lines follow, each containing $$$k$$$ integers $$$a_{i, 1}$$$, $$$a_{i, 2}$$$, ..., $$$a_{i, k}$$$ ($$$-10^6 \\le a_{i, j} \\le 10^6$$$) \u2014 the coordinates of $$$i$$$-th point.</p><p>The next line contains one integer $$$q$$$ ($$$1 \\le q \\le 2 \\cdot 10^5$$$) \u2014 the number of queries.</p><p>Then $$$q$$$ lines follow, each denoting a query. There are two types of queries:</p><ul><li> $$$1$$$ $$$i$$$ $$$b_1$$$ $$$b_2$$$ ... $$$b_k$$$ ($$$1 \\le i \\le n$$$, $$$-10^6 \\le b_j \\le 10^6$$$) \u2014 set $$$i$$$-th element of $$$a$$$ to the point $$$(b_1, b_2, \\dots, b_k)$$$;</li><li> $$$2$$$ $$$l$$$ $$$r$$$ ($$$1 \\le l \\le r \\le n$$$) \u2014 find the maximum distance between two points $$$a_i$$$ and $$$a_j$$$, where $$$l \\le i, j \\le r$$$.</li></ul><p><span class=\"tex-font-style-bf\">There is at least one query of the second type.</span></p>",
    "outputSpecification": "<p>Print the answer for each query of the second type.</p>",
    "samples": [
        {
            "input": "\n5 2\n1 2\n2 3\n3 4\n4 5\n5 6\n7\n2 1 5\n2 1 3\n2 3 5\n1 5 -1 -2\n2 1 5\n1 4 -1 -2\n2 1 5\n",
            "output": "\n8\n4\n4\n12\n10\n"
        }
    ],
    "note": null,
    "contestId": 1093,
    "index": "G",
    "name": "Multidimensional Queries",
    "type": "PROGRAMMING",
    "tags": [
        "bitmasks",
        "data structures"
    ],
    "solvedCount": 1837
}