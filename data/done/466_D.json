{
    "title": "D. Increase Sequence",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Peter has a sequence of integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,\u2009<i>a</i><sub class=\"lower-index\">2</sub>,\u2009...,\u2009<i>a</i><sub class=\"lower-index\"><i>n</i></sub></span>. Peter wants all numbers in the sequence to equal <span class=\"tex-span\"><i>h</i></span>. He can perform the operation of \"adding one on the segment <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span>\": add one to all elements of the sequence with indices from <span class=\"tex-span\"><i>l</i></span> to <span class=\"tex-span\"><i>r</i></span> (inclusive). At that, Peter never chooses any element as the beginning of the segment twice. Similarly, Peter never chooses any element as the end of the segment twice. In other words, for any two segments <span class=\"tex-span\">[<i>l</i><sub class=\"lower-index\">1</sub>,\u2009<i>r</i><sub class=\"lower-index\">1</sub>]</span> and <span class=\"tex-span\">[<i>l</i><sub class=\"lower-index\">2</sub>,\u2009<i>r</i><sub class=\"lower-index\">2</sub>]</span>, where Peter added one, the following inequalities hold: <span class=\"tex-span\"><i>l</i><sub class=\"lower-index\">1</sub>\u2009\u2260\u2009<i>l</i><sub class=\"lower-index\">2</sub></span> and <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\">1</sub>\u2009\u2260\u2009<i>r</i><sub class=\"lower-index\">2</sub></span>.</p><p>How many distinct ways are there to make all numbers in the sequence equal <span class=\"tex-span\"><i>h</i></span>? Print this number of ways modulo <span class=\"tex-span\">1000000007\u00a0(10<sup class=\"upper-index\">9</sup>\u2009+\u20097)</span>. Two ways are considered distinct if one of them has a segment that isn't in the other way.</p>",
    "inputSpecification": "<p>The first line contains two integers <span class=\"tex-span\"><i>n</i>,\u2009<i>h</i></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>n</i>,\u2009<i>h</i>\u2009\u2264\u20092000)</span>. The next line contains <span class=\"tex-span\"><i>n</i></span> integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,\u2009<i>a</i><sub class=\"lower-index\">2</sub>,\u2009...,\u2009<i>a</i><sub class=\"lower-index\"><i>n</i></sub></span> <span class=\"tex-span\">(0\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u20092000)</span>.</p>",
    "outputSpecification": "<p>Print a single integer \u2014 the answer to the problem modulo <span class=\"tex-span\">1000000007\u00a0(10<sup class=\"upper-index\">9</sup>\u2009+\u20097)</span>.</p>",
    "samples": [
        {
            "input": "3 2<br/>1 1 1<br/>",
            "output": "4<br/>"
        },
        {
            "input": "5 1<br/>1 1 1 1 1<br/>",
            "output": "1<br/>"
        },
        {
            "input": "4 3<br/>3 2 1 1<br/>",
            "output": "0<br/>"
        }
    ],
    "note": null,
    "contestId": 466,
    "index": "D",
    "name": "Increase Sequence",
    "type": "PROGRAMMING",
    "tags": [
        "combinatorics",
        "dp"
    ],
    "solvedCount": 2902
}