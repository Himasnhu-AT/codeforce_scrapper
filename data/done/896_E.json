{
    "title": "E. Welcome home, Chtholly",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<div class=\"epigraph\"><div class=\"epigraph-text\"><span class=\"tex-font-style-it\"><p>\u2014 I... I survived.</p><p>\u2014 Welcome home, Chtholly.</p><p>\u2014 I kept my promise...</p><p>\u2014 I made it... I really made it!</p></span></div></div><p>After several days of fighting, Chtholly Nota Seniorious miraculously returned from the fierce battle.</p><p>As promised, Willem is now baking butter cake for her.</p><p>However, although Willem is skilled in making dessert, he rarely bakes butter cake.</p><p>This time, Willem made a big mistake \u2014 he accidentally broke the oven!</p><p>Fortunately, Chtholly decided to help him.</p><p>Willem puts <span class=\"tex-span\"><i>n</i></span> cakes on a roll, cakes are numbered from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>, the <span class=\"tex-span\"><i>i</i></span>-th cake needs <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> seconds of baking.</p><p>Willem needs Chtholly to do <span class=\"tex-span\"><i>m</i></span> operations to bake the cakes.</p><p>Operation 1: <span class=\"tex-span\">1 <i>l</i> <i>r</i> <i>x</i></span></p><p>Willem asks Chtholly to check each cake in the range <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span>, if the cake needs to be baked for more than <span class=\"tex-span\"><i>x</i></span> seconds, he would bake it for <span class=\"tex-span\"><i>x</i></span> seconds and put it back in its place. More precisely, for every <span class=\"tex-span\"><i>i</i></span> in range <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span>, if <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> is strictly more than <span class=\"tex-span\"><i>x</i></span>, <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> becomes equal <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009-\u2009<i>x</i></span>.</p><p>Operation 2: <span class=\"tex-span\">2 <i>l</i> <i>r</i> <i>x</i></span></p><p>Willem asks Chtholly to count the number of cakes in the range <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span> that needs to be cooked for exactly <span class=\"tex-span\"><i>x</i></span> seconds. More formally you should find number of such <span class=\"tex-span\"><i>i</i></span> in range <span class=\"tex-span\">[<i>l</i>,\u2009<i>r</i>]</span>, that <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u2009<i>x</i></span>.</p>",
    "inputSpecification": "<p>The first line contains two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>n</i>,\u2009<i>m</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup>)</span>.</p><p>The second line contains <span class=\"tex-span\"><i>n</i></span> integers, <span class=\"tex-span\"><i>i</i></span>-th of them is <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup>)</span>.</p><p>The next <span class=\"tex-span\"><i>m</i></span> lines are the <span class=\"tex-span\"><i>m</i></span> operations described above. It is guaranteed that <span class=\"tex-span\">1\u2009\u2264\u2009<i>l</i>\u2009\u2264\u2009<i>r</i>\u2009\u2264\u2009<i>n</i></span> and <span class=\"tex-span\">1\u2009\u2264\u2009<i>x</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup></span>.</p>",
    "outputSpecification": "<p>For each operation of the second type, print the answer.</p>",
    "samples": [
        {
            "input": "5 6<br/>1 5 5 5 8<br/>2 2 5 5<br/>1 2 4 3<br/>2 2 5 2<br/>2 2 5 5<br/>1 3 5 1<br/>2 1 5 1<br/>",
            "output": "3<br/>3<br/>0<br/>3<br/>"
        },
        {
            "input": "7 7<br/>1 9 2 6 8 1 7<br/>2 1 7 1<br/>2 2 5 2<br/>1 4 7 7<br/>2 2 4 2<br/>1 3 4 5<br/>2 3 3 3<br/>2 3 7 2<br/>",
            "output": "2<br/>1<br/>1<br/>0<br/>1<br/>"
        },
        {
            "input": "8 13<br/>75 85 88 100 105 120 122 128<br/>1 1 8 70<br/>2 3 8 30<br/>1 3 8 3<br/>2 2 5 15<br/>1 2 4 10<br/>2 1 5 5<br/>1 2 7 27<br/>2 1 5 5<br/>1 3 7 12<br/>1 1 7 4<br/>2 1 8 1<br/>1 4 8 5<br/>2 1 8 1<br/>",
            "output": "1<br/>2<br/>3<br/>4<br/>5<br/>6<br/>"
        }
    ],
    "note": null,
    "contestId": 896,
    "index": "E",
    "name": "Welcome home, Chtholly",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dsu"
    ],
    "solvedCount": 2011
}