{
    "title": "E. Robot Arm",
    "timeLimit": {
        "value": 8.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Roger is a robot. He has an arm that is a series of <span class=\"tex-span\"><i>n</i></span> segments connected to each other. The endpoints of the <span class=\"tex-span\"><i>i</i></span>-th segment are initially located at points <span class=\"tex-span\">(<i>i</i>\u2009-\u20091,\u20090)</span> and <span class=\"tex-span\">(<i>i</i>,\u20090)</span>. The endpoint at <span class=\"tex-span\">(<i>i</i>\u2009-\u20091,\u20090)</span> is colored red and the endpoint at <span class=\"tex-span\">(<i>i</i>,\u20090)</span> is colored blue for all segments. Thus, the blue endpoint of the <span class=\"tex-span\"><i>i</i></span>-th segment is touching the red endpoint of the <span class=\"tex-span\">(<i>i</i>\u2009+\u20091)</span>-th segment for all valid <span class=\"tex-span\"><i>i</i></span>.</p><p>Roger can move his arm in two different ways: </p><ol> <li> He can choose some segment and some value. This is denoted as choosing the segment number <span class=\"tex-span\"><i>i</i></span> and picking some positive <span class=\"tex-span\"><i>l</i></span>. This change happens as follows: the red endpoint of segment number <span class=\"tex-span\"><i>i</i></span> and segments from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>i</i>\u2009-\u20091</span> are all fixed in place. Imagine a ray from the red endpoint to the blue endpoint. The blue endpoint and segments <span class=\"tex-span\"><i>i</i>\u2009+\u20091</span> through <span class=\"tex-span\"><i>n</i></span> are translated <span class=\"tex-span\"><i>l</i></span> units in the direction of this ray.<center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/769987a159a15f789d8dfadd21afd6962a4b6ab4.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/8230df8d2db49480879838aaf9b7a0499ca13a26.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>In this picture, the red point labeled <span class=\"tex-span\"><i>A</i></span> and segments before <span class=\"tex-span\"><i>A</i></span> stay in place, while the blue point labeled <span class=\"tex-span\"><i>B</i></span> and segments after <span class=\"tex-span\"><i>B</i></span> gets translated.</p></li><li> He can choose a segment and rotate it. This is denoted as choosing the segment number <span class=\"tex-span\"><i>i</i></span>, and an angle <span class=\"tex-span\"><i>a</i></span>. The red endpoint of the <span class=\"tex-span\"><i>i</i></span>-th segment will stay fixed in place. The blue endpoint of that segment and segments <span class=\"tex-span\"><i>i</i>\u2009+\u20091</span> to <span class=\"tex-span\"><i>n</i></span> will rotate clockwise by an angle of <span class=\"tex-span\"><i>a</i></span> degrees around the red endpoint.<center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/df42fd9d157dc3768a32050a3da73125660b9bf2.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/fb86077c0618f477f341925571b872a78c0b1742.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>In this picture, the red point labeled <span class=\"tex-span\"><i>A</i></span> and segments before <span class=\"tex-span\"><i>A</i></span> stay in place, while the blue point labeled <span class=\"tex-span\"><i>B</i></span> and segments after <span class=\"tex-span\"><i>B</i></span> get rotated around point <span class=\"tex-span\"><i>A</i></span>. </p></li></ol><p>Roger will move his arm <span class=\"tex-span\"><i>m</i></span> times. These transformations are a bit complicated, and Roger easily loses track of where the blue endpoint of the last segment is. Help him compute the coordinates of the blue endpoint of the last segment after applying each operation. Note that these operations are cumulative, and Roger's arm may intersect itself arbitrarily during the moves.</p>",
    "inputSpecification": "<p>The first line of the input will contain two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>,\u2009<i>m</i>\u2009\u2264\u2009300\u2009000</span>)\u00a0\u2014 the number of segments and the number of operations to perform.</p><p>Each of the next <span class=\"tex-span\"><i>m</i></span> lines contains three integers <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\"><i>i</i></sub></span>, <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>z</i><sub class=\"lower-index\"><i>i</i></sub></span> describing a move. If <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u20091</span>, this line describes a move of type <span class=\"tex-span\">1</span>, where <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the segment number and <span class=\"tex-span\"><i>z</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the increase in the length. If <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u20092</span>, this describes a move of type 2, where <span class=\"tex-span\"><i>y</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the segment number, and <span class=\"tex-span\"><i>z</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the angle in degrees. (<span class=\"tex-span\">1\u2009\u2264\u2009<i>x</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u20092,\u20091\u2009\u2264\u2009<i>y</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i>,\u20091\u2009\u2264\u2009<i>z</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009359</span>)</p>",
    "outputSpecification": "<p>Print <span class=\"tex-span\"><i>m</i></span> lines. The <span class=\"tex-span\"><i>i</i></span>-th line should contain two real values, denoting the coordinates of the blue endpoint of the last segment after applying operations <span class=\"tex-span\">1,\u2009...,\u2009<i>i</i></span>. Your answer will be considered correct if its absolute or relative error does not exceed <span class=\"tex-span\">10<sup class=\"upper-index\">\u2009-\u20094</sup></span>.</p><p>Namely, let's assume that your answer for a particular value of a coordinate is <span class=\"tex-span\"><i>a</i></span> and the answer of the jury is <span class=\"tex-span\"><i>b</i></span>. The checker program will consider your answer correct if <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/49eb236611e23b2e7c8e81e9516771daca716eec.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> for all coordinates.</p>",
    "samples": [
        {
            "input": "5 4<br/>1 1 3<br/>2 3 90<br/>2 5 48<br/>1 4 1<br/>",
            "output": "8.0000000000 0.0000000000<br/>5.0000000000 -3.0000000000<br/>4.2568551745 -2.6691306064<br/>4.2568551745 -3.6691306064<br/>"
        }
    ],
    "note": "<p>The following pictures shows the state of the arm after each operation. The coordinates of point <span class=\"tex-span\"><i>F</i></span> are printed after applying each operation. For simplicity, we only show the blue endpoints of a segment (with the exception for the red endpoint of the first segment). For instance, the point labeled <span class=\"tex-span\"><i>B</i></span> is the blue endpoint for segment <span class=\"tex-span\">1</span> and also the red endpoint for segment <span class=\"tex-span\">2</span>.</p><p>Initial state: </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/3e74a3e9bd0827b8630c38a637bd6448d706a6c4.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center> Extend segment <span class=\"tex-span\">1</span> by <span class=\"tex-span\">3</span>. <center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/a3b5a85b77f2e3b012750a0fcc8c81d6afa77156.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center> Rotate segment <span class=\"tex-span\">3</span> by <span class=\"tex-span\">90</span> degrees clockwise. <center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/8800757f505e60acba45c4633a96742a1df7c3d3.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center> Rotate segment <span class=\"tex-span\">5</span> by <span class=\"tex-span\">48</span> degrees clockwise. <center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/263e9631119ca7ceb97fad93ee86eb92773993bf.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center> Extend segment <span class=\"tex-span\">4</span> by <span class=\"tex-span\">1</span>. <center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/c9ecdd11fa47469e11f3d1f8eab9176e262d1db6.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center>",
    "contestId": 618,
    "index": "E",
    "name": "Robot Arm",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "geometry"
    ],
    "solvedCount": 587
}