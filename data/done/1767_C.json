{
    "title": "C. Count Binary Strings",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given an integer $$$n$$$. You have to calculate the number of binary (consisting of characters <span class=\"tex-font-style-tt\">0</span> and/or <span class=\"tex-font-style-tt\">1</span>) strings $$$s$$$ meeting the following constraints.</p><p>For every pair of integers $$$(i, j)$$$ such that $$$1 \\le i \\le j \\le n$$$, an integer $$$a_{i,j}$$$ is given. It imposes the following constraint on the string $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$:</p><ul> <li> if $$$a_{i,j} = 1$$$, all characters in $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$ should be the same; </li><li> if $$$a_{i,j} = 2$$$, there should be at least two different characters in $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$; </li><li> if $$$a_{i,j} = 0$$$, there are no additional constraints on the string $$$s_i s_{i+1} s_{i+2} \\dots s_j$$$. </li></ul><p>Count the number of binary strings $$$s$$$ of length $$$n$$$ meeting the aforementioned constraints. Since the answer can be large, print it modulo $$$998244353$$$.</p>",
    "inputSpecification": "<p>The first line contains one integer $$$n$$$ ($$$2 \\le n \\le 100$$$).</p><p>Then $$$n$$$ lines follow. The $$$i$$$-th of them contains $$$n-i+1$$$ integers $$$a_{i,i}, a_{i,i+1}, a_{i,i+2}, \\dots, a_{i,n}$$$ ($$$0 \\le a_{i,j} \\le 2$$$).</p>",
    "outputSpecification": "<p>Print one integer \u2014 the number of strings meeting the constraints, taken modulo $$$998244353$$$.</p>",
    "samples": [
        {
            "input": "\n3\n1 0 2\n1 0\n1\n",
            "output": "\n6\n"
        },
        {
            "input": "\n3\n1 1 2\n1 0\n1\n",
            "output": "\n2\n"
        },
        {
            "input": "\n3\n1 2 1\n1 0\n1\n",
            "output": "\n0\n"
        },
        {
            "input": "\n3\n2 0 2\n0 1\n1\n",
            "output": "\n0\n"
        }
    ],
    "note": "<p>In the first example, the strings meeting the constraints are <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">010</span>, <span class=\"tex-font-style-tt\">011</span>, <span class=\"tex-font-style-tt\">100</span>, <span class=\"tex-font-style-tt\">101</span>, <span class=\"tex-font-style-tt\">110</span>.</p><p>In the second example, the strings meeting the constraints are <span class=\"tex-font-style-tt\">001</span>, <span class=\"tex-font-style-tt\">110</span>.</p>",
    "contestId": 1767,
    "index": "C",
    "name": "Count Binary Strings",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dp"
    ],
    "solvedCount": 2544
}