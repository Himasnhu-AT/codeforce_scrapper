{
    "title": "E. Special Segments of Permutation",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a permutation $$$p$$$ of $$$n$$$ integers $$$1$$$, $$$2$$$, ..., $$$n$$$ (a permutation is an array where each element from $$$1$$$ to $$$n$$$ occurs exactly once).</p><p>Let's call some subsegment $$$p[l, r]$$$ of this permutation special if $$$p_l + p_r = \\max \\limits_{i = l}^{r} p_i$$$. Please calculate the number of special subsegments.</p>",
    "inputSpecification": "<p>The first line contains one integer $$$n$$$ ($$$3 \\le n \\le 2 \\cdot 10^5$$$).</p><p>The second line contains $$$n$$$ integers $$$p_1$$$, $$$p_2$$$, ..., $$$p_n$$$ ($$$1 \\le p_i \\le n$$$). All these integers are pairwise distinct.</p>",
    "outputSpecification": "<p>Print the number of special subsegments of the given permutation.</p>",
    "samples": [
        {
            "input": "\n5\n3 4 1 5 2\n",
            "output": "\n2\n"
        },
        {
            "input": "\n3\n1 3 2\n",
            "output": "\n1\n"
        }
    ],
    "note": "<p>Special subsegments in the first example are $$$[1, 5]$$$ and $$$[1, 3]$$$.</p><p>The only special subsegment in the second example is $$$[1, 3]$$$.</p>",
    "contestId": 1156,
    "index": "E",
    "name": "Special Segments of Permutation",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "divide and conquer",
        "dsu",
        "two pointers"
    ],
    "solvedCount": 2807
}