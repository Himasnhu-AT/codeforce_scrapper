{
    "title": "F. Bipartite Array",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a permutation $$$p$$$ consisting of $$$n$$$ integers $$$1, 2, \\dots, n$$$ (a permutation is an array where each element from $$$1$$$ to $$$n$$$ occurs exactly once).</p><p>Let's call an array $$$a$$$ <span class=\"tex-font-style-it\">bipartite</span> if the following undirected graph is bipartite:</p><ul> <li> the graph consists of $$$n$$$ vertices; </li><li> two vertices $$$i$$$ and $$$j$$$ are connected by an edge if $$$i &lt; j$$$ and $$$a_i &gt; a_j$$$. </li></ul><p>Your task is to find a <span class=\"tex-font-style-it\">bipartite</span> array of integers $$$a$$$ of size $$$n$$$, such that $$$a_i = p_i$$$ or $$$a_i = -p_i$$$, or report that no such array exists. If there are multiple answers, print any of them.</p>",
    "inputSpecification": "<p>The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 2 \\cdot 10^5$$$)\u00a0\u2014 the number of test cases.</p><p>The first line of each test case contains a single integer $$$n$$$ ($$$1 \\le n \\le 10^6$$$)\u00a0\u2014 the size of the permutation.</p><p>The second line contains $$$n$$$ integers $$$p_1, p_2, \\dots, p_n$$$.</p><p>The sum of $$$n$$$ over all test cases doesn't exceed $$$10^6$$$.</p>",
    "outputSpecification": "<p>For each test case, print the answer in the following format. If such an array $$$a$$$ does not exist, print \"<span class=\"tex-font-style-tt\">NO</span>\" in a single line. Otherwise, print \"<span class=\"tex-font-style-tt\">YES</span>\" in the first line and $$$n$$$ integers\u00a0\u2014 array $$$a$$$ in the second line.</p>",
    "samples": [
        {
            "input": "\n4\n3\n1 2 3\n6\n1 3 2 6 5 4\n4\n4 1 3 2\n8\n3 2 1 6 7 8 5 4\n",
            "output": "\nYES\n1 2 3\nNO\nYES\n-4 -1 -3 -2\nYES\n-3 -2 1 6 7 -8 -5 -4\n"
        }
    ],
    "note": null,
    "contestId": 1620,
    "index": "F",
    "name": "Bipartite Array",
    "type": "PROGRAMMING",
    "tags": [
        "dp",
        "greedy"
    ],
    "solvedCount": 590
}