{
    "title": "E. Coloring",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given $$$n$$$ points on the plane, the coordinates of the $$$i$$$-th point are $$$(x_i, y_i)$$$. No two points have the same coordinates.</p><p>The distance between points $$$i$$$ and $$$j$$$ is defined as $$$d(i,j) = |x_i - x_j| + |y_i - y_j|$$$.</p><p>For each point, you have to choose a color, represented by an integer from $$$1$$$ to $$$n$$$. For every ordered triple of different points $$$(a,b,c)$$$, the following constraints should be met:</p><ul> <li> if $$$a$$$, $$$b$$$ and $$$c$$$ have the same color, then $$$d(a,b) = d(a,c) = d(b,c)$$$; </li><li> if $$$a$$$ and $$$b$$$ have the same color, and the color of $$$c$$$ is different from the color of $$$a$$$, then $$$d(a,b) &lt; d(a,c)$$$ and $$$d(a,b) &lt; d(b,c)$$$. </li></ul><p>Calculate the number of different ways to choose the colors that meet these constraints.</p>",
    "inputSpecification": "<p>The first line contains one integer $$$n$$$ ($$$2 \\le n \\le 100$$$)\u00a0\u2014 the number of points.</p><p>Then $$$n$$$ lines follow. The $$$i$$$-th of them contains two integers $$$x_i$$$ and $$$y_i$$$ ($$$0 \\le x_i, y_i \\le 10^8$$$).</p><p>No two points have the same coordinates (i.\u2009e. if $$$i \\ne j$$$, then either $$$x_i \\ne x_j$$$ or $$$y_i \\ne y_j$$$).</p>",
    "outputSpecification": "<p>Print one integer\u00a0\u2014 the number of ways to choose the colors for the points. Since it can be large, print it modulo $$$998244353$$$.</p>",
    "samples": [
        {
            "input": "\n3\n1 0\n3 0\n2 1\n",
            "output": "\n9\n"
        },
        {
            "input": "\n5\n1 2\n2 4\n3 4\n4 4\n1 3\n",
            "output": "\n240\n"
        },
        {
            "input": "\n4\n1 0\n3 0\n2 1\n2 0\n",
            "output": "\n24\n"
        }
    ],
    "note": "<p>In the first test, the following ways to choose the colors are suitable:</p><ul> <li> $$$[1, 1, 1]$$$; </li><li> $$$[2, 2, 2]$$$; </li><li> $$$[3, 3, 3]$$$; </li><li> $$$[1, 2, 3]$$$; </li><li> $$$[1, 3, 2]$$$; </li><li> $$$[2, 1, 3]$$$; </li><li> $$$[2, 3, 1]$$$; </li><li> $$$[3, 1, 2]$$$; </li><li> $$$[3, 2, 1]$$$. </li></ul>",
    "contestId": 1697,
    "index": "E",
    "name": "Coloring",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "combinatorics",
        "constructive algorithms",
        "dp",
        "geometry",
        "graphs",
        "greedy",
        "implementation",
        "math"
    ],
    "solvedCount": 1152
}