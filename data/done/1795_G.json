{
    "title": "G. Removal Sequences",
    "timeLimit": {
        "value": 4.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a simple undirected graph, consisting of $$$n$$$ vertices and $$$m$$$ edges. The vertices are numbered from $$$1$$$ to $$$n$$$. The $$$i$$$-th vertex has a value $$$a_i$$$ written on it.</p><p>You will be removing vertices from that graph. You are allowed to remove vertex $$$i$$$ only if its degree is equal to $$$a_i$$$. When a vertex is removed, all edges incident to it are also removed, thus, decreasing the degree of adjacent non-removed vertices.</p><p>A valid sequence of removals is a permutation $$$p_1, p_2, \\dots, p_n$$$ $$$(1 \\le p_i \\le n)$$$ such that the $$$i$$$-th vertex to be removed is $$$p_i$$$, and every removal is allowed.</p><p>A pair $$$(x, y)$$$ of vertices is <span class=\"tex-font-style-it\">nice</span> if there exist two valid sequences of removals such that $$$x$$$ is removed before $$$y$$$ in one of them and $$$y$$$ is removed before $$$x$$$ in the other one.</p><p>Count the number of <span class=\"tex-font-style-it\">nice</span> pairs $$$(x, y)$$$ such that $$$x &lt; y$$$.</p>",
    "inputSpecification": "<p>The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$)\u00a0\u2014 the number of testcases.</p><p>The first line of each testcase contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le n \\le 10^5$$$; $$$0 \\le m \\le \\min(10^5, \\frac{n \\cdot (n - 1)}{2})$$$)\u00a0\u2014 the number of vertices and the number of edges of the graph.</p><p>The second line contains $$$n$$$ integers $$$a_1, a_2, \\dots, a_n$$$ ($$$0 \\le a_i \\le n - 1$$$)\u00a0\u2014 the degree requirements for each removal.</p><p>Each of the next $$$m$$$ lines contains two integers $$$v$$$ and $$$u$$$ ($$$1 \\le v, u \\le n$$$; $$$v \\neq u$$$)\u00a0\u2014 the description of an edge.</p><p>The graph doesn't contain any self-loops or multiple edges.</p><p>The sum of $$$n$$$ over all testcases doesn't exceed $$$10^5$$$. The sum of $$$m$$$ over all testcases doesn't exceed $$$10^5$$$.</p><p><span class=\"tex-font-style-bf\">Additional constraint on the input: there always exists at least one valid sequence of removals.</span></p>",
    "outputSpecification": "<p>For each testcase, print a single integer\u00a0\u2014 the number of <span class=\"tex-font-style-it\">nice</span> pairs of vertices.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">4</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 0 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 3</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">1 2</div><div class=\"test-example-line test-example-line-even test-example-line-2\">3 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 2 0</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 2</div><div class=\"test-example-line test-example-line-even test-example-line-2\">2 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">1 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 6</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 0 2 1 0</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">4 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 4</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">2 3</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 0</div><div class=\"test-example-line test-example-line-even test-example-line-4\">0</div>",
            "output": "\n1\n0\n4\n0\n"
        }
    ],
    "note": null,
    "contestId": 1795,
    "index": "G",
    "name": "Removal Sequences",
    "type": "PROGRAMMING",
    "tags": [
        "bitmasks",
        "dfs and similar",
        "graphs"
    ],
    "solvedCount": 659
}