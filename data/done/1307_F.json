{
    "title": "F. Cow and Vacation",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Bessie is planning a vacation! In Cow-lifornia, there are $$$n$$$ cities, with $$$n-1$$$ bidirectional roads connecting them. It is guaranteed that one can reach any city from any other city. </p><p>Bessie is considering $$$v$$$ possible vacation plans, with the $$$i$$$-th one consisting of a start city $$$a_i$$$ and destination city $$$b_i$$$.</p><p>It is known that only $$$r$$$ of the cities have rest stops. Bessie gets tired easily, and cannot travel across more than $$$k$$$ consecutive roads without resting. In fact, she is so desperate to rest that she may travel through the same city multiple times in order to do so.</p><p>For each of the vacation plans, does there exist a way for Bessie to travel from the starting city to the destination city?</p>",
    "inputSpecification": "<p>The first line contains three integers $$$n$$$, $$$k$$$, and $$$r$$$ ($$$2 \\le n \\le 2 \\cdot 10^5$$$, $$$1 \\le k,r \\le n$$$) \u00a0\u2014 the number of cities, the maximum number of roads Bessie is willing to travel through in a row without resting, and the number of rest stops.</p><p>Each of the following $$$n-1$$$ lines contain two integers $$$x_i$$$ and $$$y_i$$$ ($$$1 \\le x_i, y_i \\le n$$$, $$$x_i \\neq y_i$$$), meaning city $$$x_i$$$ and city $$$y_i$$$ are connected by a road. </p><p>The next line contains $$$r$$$ integers separated by spaces \u00a0\u2014 the cities with rest stops. Each city will appear at most once.</p><p>The next line contains $$$v$$$ ($$$1 \\le v \\le 2 \\cdot 10^5$$$) \u00a0\u2014 the number of vacation plans.</p><p>Each of the following $$$v$$$ lines contain two integers $$$a_i$$$ and $$$b_i$$$ ($$$1 \\le a_i, b_i \\le n$$$, $$$a_i \\ne b_i$$$) \u00a0\u2014 the start and end city of the vacation plan. </p>",
    "outputSpecification": "<p>If Bessie can reach her destination without traveling across more than $$$k$$$ roads without resting for the $$$i$$$-th vacation plan, print <span class=\"tex-font-style-tt\">YES</span>. Otherwise, print <span class=\"tex-font-style-tt\">NO</span>.</p>",
    "samples": [
        {
            "input": "\n6 2 1\n1 2\n2 3\n2 4\n4 5\n5 6\n2\n3\n1 3\n3 5\n3 6\n",
            "output": "\nYES\nYES\nNO\n"
        },
        {
            "input": "\n8 3 3\n1 2\n2 3\n3 4\n4 5\n4 6\n6 7\n7 8\n2 5 8\n2\n7 1\n8 1\n",
            "output": "\nYES\nNO\n"
        }
    ],
    "note": "<p>The graph for the first example is shown below. The rest stop is denoted by red.</p><p>For the first query, Bessie can visit these cities in order: $$$1, 2, 3$$$.</p><p>For the second query, Bessie can visit these cities in order: $$$3, 2, 4, 5$$$. </p><p>For the third query, Bessie cannot travel to her destination. For example, if she attempts to travel this way: $$$3, 2, 4, 5, 6$$$, she travels on more than $$$2$$$ roads without resting.</p><center> <img class=\"tex-graphics\" height=\"227px\" src=\"https://espresso.codeforces.com/ec8730d530cc01167d8428eed28c34b2681bfdf3.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"416px\"/> </center><p>The graph for the second example is shown below. </p><center> <img class=\"tex-graphics\" height=\"378px\" src=\"https://espresso.codeforces.com/14a6b18bc3b2d601818f5387cf1c1751cd277294.png\" style=\"max-width: 100.0%;max-height: 100.0%;\" width=\"416px\"/> </center>",
    "contestId": 1307,
    "index": "F",
    "name": "Cow and Vacation",
    "type": "PROGRAMMING",
    "tags": [
        "dfs and similar",
        "dsu",
        "trees"
    ],
    "solvedCount": 571
}