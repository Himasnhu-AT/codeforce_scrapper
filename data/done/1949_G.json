{
    "title": "G. Scooter",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>The Czech Technical University campus consists of $$$n$$$ buildings, indexed from $$$1$$$ to $$$n$$$. In each building, there can be a math class scheduled, or a computer science class, or neither (but not both). Additionally, in each building, there is at most one professor, and each professor is either an expert in mathematics or in computer science.</p><p>As an intern at University Express Inc., your job is to quickly transport the professors to their classes. For this, you have been granted a brand new two-person scooter, able to accommodate yourself, plus at most one passenger.</p><p>Initially, you are the only person on the scooter. When you arrive at a building, you may drop off or pick up professors to/from that building. However, in order to improve the efficiency of your task, you are allowed to drive to each of the $$$n$$$ buildings <span class=\"tex-font-style-bf\">at most once</span>, in the order of your choice (you can also decide where to start the itinerary). </p><p>After the end of your itinerary, in each building where a math class is scheduled, there must be a professor expert in math, and in each building where a computer science class is scheduled, there must be a professor expert in computer science.</p><p>Devise an itinerary that makes it possible to teach all classes.</p>",
    "inputSpecification": "<p>The first line contains an integer $$$n$$$ ($$$1\\le n \\le 2000$$$) \u2014 the number of buildings in the campus.</p><p>The second line contains a string of $$$c$$$ of length $$$n$$$ consisting of the characters $$$\\texttt{-}$$$, $$$\\texttt{C}$$$, $$$\\texttt{M}$$$ \u2014 the $$$i$$$-th character denotes the subject of the class scheduled in the $$$i$$$-th building. $$$\\texttt{C}$$$ stands for computer science, $$$\\texttt{M}$$$ stands for mathematics, while $$$\\texttt{-}$$$ means that there is no class scheduled in the $$$i$$$-th building.</p><p>The third line contains a string $$$p$$$ of length $$$n$$$ consisting of the characters $$$\\texttt{-}$$$, $$$\\texttt{C}$$$, $$$\\texttt{M}$$$ \u2014 the $$$i$$$-th character denotes the expertise of the professor in the $$$i$$$-th building (if there is a professor). $$$\\texttt{C}$$$ stands for computer science, $$$\\texttt{M}$$$ stands for mathematics, while $$$\\texttt{-}$$$ means that there is no professor in the $$$i$$$-th building.</p><p>It is guaranteed that, for all tests given to your program, there exists a valid itinerary.</p>",
    "outputSpecification": "<p>In the first line print an integer $$$l$$$ \u2014 the number of operations in your chosen itinerary. </p><p>The $$$i$$$-th ($$$1 \\leq i \\leq l$$$) of the next $$$l$$$ lines must contain one of three commands: </p><ol> <li> $$$\\texttt{DRIVE } x$$$ \u2014 go to the building with the number $$$x$$$ ($$$1 \\leq x \\leq n$$$); </li><li> $$$\\texttt{PICKUP}$$$ \u2014 pick up the professor which was <span class=\"tex-font-style-it\">initially</span> at the current building; </li><li> $$$\\texttt{DROPOFF}$$$ \u2014 drop off the passenger professor at the current building. </li></ol><p>In order for the itinerary to be valid, the following conditions must hold:</p><ol> <li> No two $$$\\texttt{DRIVE}$$$ instructions should go to the same building; </li><li> At most one $$$\\texttt{DROPOFF}$$$ and one $$$\\texttt{PICKUP}$$$ instruction <span class=\"tex-font-style-bf\">in this order</span> should be issued at each specific building; </li><li> For all $$$\\texttt{PICKUP}$$$ instructions, there must be a professor <span class=\"tex-font-style-it\">initially</span> at the building, as well as no one already riding along on the scooter; </li><li> For all $$$\\texttt{DROPOFF}$$$ instructions, there must be a professor riding along at the time of the command; </li><li> After the itinerary, in each building, if there is a class in that building, there must be a professor expert in the class' subject (either initially, or because they were dropped off there). </li></ol><p><span class=\"tex-font-style-bf\">Note that, in particular, you cannot pick up a professor that you just dropped off for an itinerary to be valid.</span></p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">3</div><div class=\"test-example-line test-example-line-even test-example-line-0\">CM-</div><div class=\"test-example-line test-example-line-even test-example-line-0\">-CM</div>",
            "output": "\n7\nDRIVE 3\nPICKUP\nDRIVE 2\nDROPOFF\nPICKUP\nDRIVE 1\nDROPOFF\n"
        },
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">1</div><div class=\"test-example-line test-example-line-even test-example-line-0\">C</div><div class=\"test-example-line test-example-line-even test-example-line-0\">C</div>",
            "output": "\n0\n"
        },
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">2</div><div class=\"test-example-line test-example-line-even test-example-line-0\">-M</div><div class=\"test-example-line test-example-line-even test-example-line-0\">MC</div>",
            "output": "\n4\nDRIVE 1\nPICKUP\nDRIVE 2\nDROPOFF"
        }
    ],
    "note": "<p>In the <span class=\"tex-font-style-bf\">first sample</span>, You start by driving to building number $$$3$$$. You then pick up the mathematics professor. After dropping him off at building number $$$2$$$, where a mathematics class is being held, you pick up the computer science professor from there, and drop her off at building number $$$1$$$, finishing your itinerary.</p>",
    "contestId": 1949,
    "index": "G",
    "name": "Scooter",
    "type": "PROGRAMMING",
    "tags": [
        "graphs",
        "greedy"
    ],
    "solvedCount": 666
}