{
    "title": "E. Ivan the Fool VS Gorynych the Dragon",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Once upon a time in a kingdom far, far away\u2026 Okay, let\u2019s start at the point where Ivan the Fool met Gorynych the Dragon. Ivan took out his magic sword and the battle began. First Gorynych had <span class=\"tex-span\"><i>h</i></span> heads and <span class=\"tex-span\"><i>t</i></span> tails. With each strike of the sword Ivan can either cut off several heads (from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>, but not more than Gorynych has at the moment), or several tails (from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>m</i></span>, but not more than Gorynych has at the moment). At the same time, horrible though it seems, Gorynych the Dragon can also grow new heads and tails. And the number of growing heads and tails is determined uniquely by the number of heads or tails cut by the current strike. When the total number of heads and tails exceeds <span class=\"tex-span\"><i>R</i></span>, Gorynych the Dragon strikes its final blow and destroys Ivan the Fool. That\u2019s why Ivan aims to cut off all the dragon\u2019s heads and tails as quickly as possible and win. The events can also develop in a third way: neither of the opponents can win over the other one and they will continue fighting forever.</p><p>The tale goes like this; easy to say, hard to do. Your task is to write a program that will determine the battle\u2019s outcome. Consider that Ivan strikes consecutively. After each blow Gorynych grows a number of new heads and tails depending on the number of cut ones. Gorynych the Dragon is defeated if after the blow he loses all his heads and tails and can\u2019t grow new ones. Ivan fights in the optimal way (fools are lucky), i.e. </p><ul> <li> if Ivan can win, he wins having struck the least number of blows; </li><li> if it is impossible to defeat Gorynych, but is possible to resist him for an infinitely long period of time, then that\u2019s the strategy Ivan chooses; </li><li> if Gorynych wins in any case, Ivan aims to resist him for as long as possible. </li></ul>",
    "inputSpecification": "<p>The first line contains three integers <span class=\"tex-span\"><i>h</i></span>, <span class=\"tex-span\"><i>t</i></span> and <span class=\"tex-span\"><i>R</i></span> (<span class=\"tex-span\">0\u2009\u2264\u2009<i>h</i>,\u2009<i>t</i>,\u2009<i>R</i>\u2009\u2264\u2009200</span>, <span class=\"tex-span\">0\u2009&lt;\u2009<i>h</i>\u2009+\u2009<i>t</i>\u2009\u2264\u2009<i>R</i></span>) which represent the initial numbers of Gorynych\u2019s heads and tails and the largest total number of heads and tails with which Gorynych the Dragon does not yet attack. The next line contains integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009200</span>). The next <span class=\"tex-span\"><i>n</i></span> contain pairs of non-negative numbers \"<span class=\"tex-span\"><i>h</i><sub class=\"lower-index\"><i>i</i></sub></span> <span class=\"tex-span\"><i>t</i><sub class=\"lower-index\"><i>i</i></sub></span>\" which represent the number of heads and the number of tails correspondingly, that will grow if Gorynych has <span class=\"tex-span\"><i>i</i></span> heads (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009\u2264\u2009<i>n</i></span>) cut. The next line contains an integer <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>m</i>\u2009\u2264\u2009200</span>) and then \u2014 the description of Gorynych\u2019s behavior when his tails are cut off in the format identical to the one described above. All the numbers in the input file do not exceed <span class=\"tex-span\">200</span>. </p>",
    "outputSpecification": "<p>Print \"Ivan\" (without quotes) in the first line if Ivan wins, or \"Zmey\" (that means a dragon in Russian) if Gorynych the Dragon wins. In the second line print a single integer which represents the number of blows Ivan makes. If the battle will continue forever, print in the first line \"Draw\".</p>",
    "samples": [
        {
            "input": "2 2 4<br/>2<br/>1 0<br/>0 1<br/>3<br/>0 1<br/>0 1<br/>0 0<br/>",
            "output": "Ivan<br/>2<br/>"
        },
        {
            "input": "2 2 4<br/>1<br/>0 1<br/>1<br/>1 0<br/>",
            "output": "Draw<br/>"
        },
        {
            "input": "2 2 5<br/>1<br/>1 1<br/>1<br/>3 0<br/>",
            "output": "Zmey<br/>2<br/>"
        }
    ],
    "note": null,
    "contestId": 48,
    "index": "E",
    "name": "Ivan the Fool VS Gorynych the Dragon",
    "type": "PROGRAMMING",
    "tags": [
        "dp",
        "games",
        "graphs"
    ],
    "solvedCount": 565
}