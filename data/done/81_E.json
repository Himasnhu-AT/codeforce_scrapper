{
    "title": "E. Pairs",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>There are <span class=\"tex-span\"><i>n</i></span> students in Polycarp's class (including himself). A few days ago all students wrote an essay \"My best friend\". Each student's essay was dedicated to one of the students of class, to his/her best friend. Note that student <span class=\"tex-span\"><i>b</i></span>'s best friend is not necessarily student <span class=\"tex-span\"><i>a</i></span>, if <span class=\"tex-span\"><i>a</i></span>'s best friend is <span class=\"tex-span\"><i>b</i></span>.</p><p>And now the teacher leads the whole class to the museum of the history of sports programming. Exciting stories of legendary heroes await the students: tourist, Petr, tomek, SnapDragon \u2014 that's who they will hear about!</p><p>The teacher decided to divide students into pairs so that each pair consisted of a student and his best friend. She may not be able to split all the students into pairs, it's not a problem \u2014 she wants to pick out the maximum number of such pairs. If there is more than one variant of doing so, she wants to pick out the pairs so that there were as much boy-girl pairs as possible. Of course, each student must not be included in more than one pair.</p>",
    "inputSpecification": "<p>The first line contains an integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup></span>), <span class=\"tex-span\"><i>n</i></span> is the number of students per class. Next, <span class=\"tex-span\"><i>n</i></span> lines contain information about the students, one per line. Each line contains two integers <span class=\"tex-span\"><i>f</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>f</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i>,\u2009<i>f</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2260\u2009<i>i</i>,\u20091\u2009\u2264\u2009<i>s</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u20092</span>), where <span class=\"tex-span\"><i>f</i><sub class=\"lower-index\"><i>i</i></sub></span> is the number of <span class=\"tex-span\"><i>i</i></span>-th student's best friend and <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the <span class=\"tex-span\"><i>i</i></span>-th pupil's sex (<span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u20091</span> for a boy and <span class=\"tex-span\"><i>s</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u20092</span> for a girl).</p>",
    "outputSpecification": "<p>Print on the first line two numbers <span class=\"tex-span\"><i>t</i></span>, <span class=\"tex-span\"><i>e</i></span>, where <span class=\"tex-span\"><i>t</i></span> is the maximum number of formed pairs, and <span class=\"tex-span\"><i>e</i></span> is the maximum number of boy-girl type pairs among them. Then print <span class=\"tex-span\"><i>t</i></span> lines, each line must contain a pair <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i></span>), they are numbers of pupils in the <span class=\"tex-span\"><i>i</i></span>-th pair. Print the pairs in any order. Print the numbers in pairs in any order. If there are several solutions, output any of them.</p>",
    "samples": [
        {
            "input": "5<br/>5 2<br/>3 2<br/>5 1<br/>2 1<br/>4 2<br/>",
            "output": "2 2<br/>5 3<br/>4 2<br/>"
        },
        {
            "input": "6<br/>5 2<br/>3 2<br/>5 1<br/>2 1<br/>4 2<br/>3 1<br/>",
            "output": "3 1<br/>4 2<br/>5 1<br/>3 6<br/>"
        },
        {
            "input": "8<br/>2 2<br/>3 2<br/>5 1<br/>3 1<br/>6 1<br/>5 1<br/>8 2<br/>7 1<br/>",
            "output": "4 1<br/>5 6<br/>3 4<br/>2 1<br/>7 8<br/>"
        }
    ],
    "note": "<p>The picture corresponds to the first sample. On the picture rhomb stand for boys, squares stand for girls, arrows lead from a pupil to his/her best friend. Bold non-dashed arrows stand for pairs in the answer. </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/98a4fb45c660a0f490612e70feda77a960a8c9f3.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center>",
    "contestId": 81,
    "index": "E",
    "name": "Pairs",
    "type": "PROGRAMMING",
    "tags": [
        "dfs and similar",
        "dp",
        "dsu",
        "graphs",
        "implementation",
        "trees"
    ],
    "solvedCount": 330
}