{
    "title": "D. \"a\" String Problem",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a string $$$s$$$ consisting of lowercase Latin characters. Count the number of nonempty strings $$$t \\neq$$$ \"$$$\\texttt{a}$$$\" such that it is possible to partition$$$^{\\dagger}$$$ $$$s$$$ into some substrings satisfying the following conditions: </p><ul> <li> each substring either equals $$$t$$$ or \"$$$\\texttt{a}$$$\", and </li><li> at least one substring equals $$$t$$$. </li></ul> <p>$$$^{\\dagger}$$$ A <span class=\"tex-font-style-it\">partition</span> of a string $$$s$$$ is an ordered sequence of some $$$k$$$ strings $$$t_1, t_2, \\ldots, t_k$$$ (called <span class=\"tex-font-style-it\">substrings</span>) such that $$$t_1 + t_2 + \\ldots + t_k = s$$$, where $$$+$$$ represents the concatenation operation.</p>",
    "inputSpecification": "<p>The first line contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 10^4$$$)\u00a0\u2014 the number of test cases.</p><p>The only line of each test case contains a string $$$s$$$ consisting of lowercase Latin characters ($$$2 \\leq |s| \\leq 2 \\cdot 10^5$$$).</p><p>The sum of $$$|s|$$$ over all test cases does not exceed $$$3 \\cdot 10^5$$$.</p>",
    "outputSpecification": "<p>For each test case, output a single integer\u00a0\u2014 the number of nonempty strings $$$t \\neq$$$ \"$$$\\texttt{a}$$$\" that satisfy all constraints.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">8</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">aaaaa</div><div class=\"test-example-line test-example-line-even test-example-line-2\">baba</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">cabacb</div><div class=\"test-example-line test-example-line-even test-example-line-4\">aaabaaa</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">bitset</div><div class=\"test-example-line test-example-line-even test-example-line-6\">ab</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">abbaaaabbb</div><div class=\"test-example-line test-example-line-even test-example-line-8\">yearnineteeneightyfour</div>",
            "output": "\n4\n4\n1\n16\n1\n2\n3\n1\n"
        }
    ],
    "note": "<p>In the first test case, $$$t$$$ can be \"$$$\\texttt{aa}$$$\", \"$$$\\texttt{aaa}$$$\", \"$$$\\texttt{aaaa}$$$\", or the full string.</p><p>In the second test case, $$$t$$$ can be \"$$$\\texttt{b}$$$\", \"$$$\\texttt{bab}$$$\", \"$$$\\texttt{ba}$$$\", or the full string.</p><p>In the third test case, the only such $$$t$$$ is the full string.</p>",
    "contestId": 1984,
    "index": "D",
    "name": "''a'' String Problem",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "hashing",
        "implementation",
        "math",
        "string suffix structures",
        "strings"
    ],
    "solvedCount": 2097
}