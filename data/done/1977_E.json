{
    "title": "E. Tensor",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p><span class=\"tex-font-style-it\">This is an interactive problem.</span></p><p>You are given an integer $$$n$$$.</p><p>The jury has hidden from you a directed graph with $$$n$$$ vertices (numbered from $$$1$$$ to $$$n$$$) and some number of edges. You additionally know that: </p><ul> <li> The graph only contains edges of the form $$$i \\leftarrow j$$$, where $$$1 \\le i &lt; j \\le n$$$. </li><li> For any three vertices $$$1 \\le i &lt; j &lt; k \\le n$$$, at least one of the following holds$$$^\\dagger$$$: <ul> <li> Vertex $$$i$$$ is reachable from vertex $$$j$$$, or </li><li> Vertex $$$i$$$ is reachable from vertex $$$k$$$, or </li><li> Vertex $$$j$$$ is reachable from vertex $$$k$$$. </li></ul> </li></ul><p>You want to color each vertex in either black or white such that for any two vertices $$$i$$$ and $$$j$$$ ($$$1 \\le i &lt; j \\le n$$$) of the same color, vertex $$$i$$$ is reachable from vertex $$$j$$$.</p><p>To do that, you can ask queries of the following type: </p><ul> <li> <span class=\"tex-font-style-tt\">?  i  j</span> \u2014 is vertex $$$i$$$ reachable from vertex $$$j$$$ ($$$1 \\le i &lt; j \\le n$$$)? </li></ul><p>Find any valid vertex coloring of the hidden graph in at most $$$2 \\cdot n$$$ queries. It can be proven that such a coloring always exists.</p><p>Note that the grader is <span class=\"tex-font-style-bf\">not</span> adaptive: the graph is fixed before any queries are made.</p><p>$$$^\\dagger$$$ Vertex $$$a$$$ is reachable from vertex $$$b$$$ if there exists a <a href=\"https://en.wikipedia.org/wiki/Path_(graph_theory)\">path</a> from vertex $$$b$$$ to vertex $$$a$$$ in the graph.</p>",
    "inputSpecification": "<p>Each test contains multiple test cases. The first line of input contains a single integer $$$t$$$ ($$$1 \\le t \\le 1000$$$)\u00a0\u2014 the number of test cases. The description of the test cases follows.</p><p>The only line of each test case contains a single integer $$$n$$$ ($$$3 \\le n \\le 100$$$)\u00a0\u2014 the number of vertices in the hidden graph.</p><p>It is guaranteed that the sum of $$$n$$$ over all test cases does not exceed $$$1000$$$.</p>",
    "outputSpecification": null,
    "samples": [
        {
            "input": "\n2\n4\n\nYES\n\nYES\n\nYES\n\nNO\n\nNO\n\nNO\n\n5\n\n",
            "output": "\n? 1 2\n\n? 2 3\n\n? 1 3\n\n? 1 4\n\n? 2 4\n\n? 3 4\n\n! 0 0 0 1\n\n! 1 1 0 1 0\n"
        }
    ],
    "note": "<p>The hidden graph in the first test case: </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/2c76b6097ab80b5e09fcef2a83a9df40cd211c80.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>The hidden graph in the second test case: </p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/c20c9e6f58a290ede775f40980c1691398ae8cb2.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p>The interaction happens as follows:</p><p><table class=\"tex-tabular\"><tbody><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Solution</td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Jury</td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">Explanation</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">2</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">There are $$$2$$$ test cases.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">4</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">In the first test case, the graph has $$$4$$$ vertices.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 1 2 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">YES</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$1$$$ is reachable from vertex $$$2$$$, and the jury answers <span class=\"tex-font-style-tt\">YES</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 2 3 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">YES</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$2$$$ is reachable from vertex $$$3$$$, and the jury answers <span class=\"tex-font-style-tt\">YES</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 1 3 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">YES</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$1$$$ is reachable from vertex $$$3$$$, and the jury answers <span class=\"tex-font-style-tt\">YES</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 1 4 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">NO</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$1$$$ is reachable from vertex $$$4$$$, and the jury answers <span class=\"tex-font-style-tt\">NO</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 2 4 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">NO</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$2$$$ is reachable from vertex $$$4$$$, and the jury answers <span class=\"tex-font-style-tt\">NO</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">? 3 4 </span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">NO</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution asks if vertex $$$3$$$ is reachable from vertex $$$4$$$, and the jury answers <span class=\"tex-font-style-tt\">NO</span>.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">! 0 0 0 1</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution has somehow determined a valid coloring and outputs it. Since the output is correct, the jury continues to the next test case.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">5</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">In the second test case, the graph has $$$5$$$ vertices.</td></tr><tr><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"><span class=\"tex-font-style-tt\">! 1 1 0 1 0</span></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\"></td><td class=\"tex-tabular-border-left tex-tabular-text-align-center tex-tabular-border-right tex-tabular-border-top tex-tabular-border-bottom\">The solution has somehow determined a valid coloring, and outputs it. Since the output is correct and there are no more test cases, the jury and the solution exit.</td></tr></tbody></table></p><p>Note that the line breaks in the example input and output are for the sake of clarity, and do not occur in the real interaction.</p>",
    "contestId": 1977,
    "index": "E",
    "name": "Tensor",
    "type": "PROGRAMMING",
    "tags": [
        "constructive algorithms",
        "graphs",
        "interactive"
    ],
    "solvedCount": 453
}