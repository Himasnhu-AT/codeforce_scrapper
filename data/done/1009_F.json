{
    "title": "F. Dominant Indices",
    "timeLimit": {
        "value": 4.5,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given a rooted undirected tree consisting of $$$n$$$ vertices. Vertex $$$1$$$ is the root.</p><p>Let's denote a <span class=\"tex-font-style-it\">depth array</span> of vertex $$$x$$$ as an infinite sequence $$$[d_{x, 0}, d_{x, 1}, d_{x, 2}, \\dots]$$$, where $$$d_{x, i}$$$ is the number of vertices $$$y$$$ such that both conditions hold:</p><ul> <li> $$$x$$$ is an ancestor of $$$y$$$; </li><li> the simple path from $$$x$$$ to $$$y$$$ traverses exactly $$$i$$$ edges. </li></ul><p>The <span class=\"tex-font-style-it\">dominant index</span> of a <span class=\"tex-font-style-it\">depth array</span> of vertex $$$x$$$ (or, shortly, the <span class=\"tex-font-style-it\">dominant index</span> of vertex $$$x$$$) is an index $$$j$$$ such that:</p><ul> <li> for every $$$k &lt; j$$$, $$$d_{x, k} &lt; d_{x, j}$$$; </li><li> for every $$$k &gt; j$$$, $$$d_{x, k} \\le d_{x, j}$$$. </li></ul><p>For every vertex in the tree calculate its <span class=\"tex-font-style-it\">dominant index</span>.</p>",
    "inputSpecification": "<p>The first line contains one integer $$$n$$$ ($$$1 \\le n \\le 10^6$$$) \u2014 the number of vertices in a tree.</p><p>Then $$$n - 1$$$ lines follow, each containing two integers $$$x$$$ and $$$y$$$ ($$$1 \\le x, y \\le n$$$, $$$x \\ne y$$$). This line denotes an edge of the tree.</p><p>It is guaranteed that these edges form a tree.</p>",
    "outputSpecification": "<p>Output $$$n$$$ numbers. $$$i$$$-th number should be equal to the <span class=\"tex-font-style-it\">dominant index</span> of vertex $$$i$$$.</p>",
    "samples": [
        {
            "input": "4<br/>1 2<br/>2 3<br/>3 4<br/>",
            "output": "0<br/>0<br/>0<br/>0<br/>"
        },
        {
            "input": "4<br/>1 2<br/>1 3<br/>1 4<br/>",
            "output": "1<br/>0<br/>0<br/>0<br/>"
        },
        {
            "input": "4<br/>1 2<br/>2 3<br/>2 4<br/>",
            "output": "2<br/>1<br/>0<br/>0<br/>"
        }
    ],
    "note": null,
    "contestId": 1009,
    "index": "F",
    "name": "Dominant Indices",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dsu",
        "trees"
    ],
    "solvedCount": 5188
}