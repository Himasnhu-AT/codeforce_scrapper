{
    "title": "F. Sherlock's bet to Moriarty",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>Sherlock met Moriarty for a final battle of wits. He gave him a regular <span class=\"tex-span\"><i>n</i></span> sided convex polygon. In addition to it, he gave him certain diagonals to form regions on the polygon. It was guaranteed that the diagonals did not intersect in interior points.</p><p>He took each of the region and calculated its importance value. Importance value for a region formed by vertices <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,\u2009<i>a</i><sub class=\"lower-index\">2</sub>,\u2009... ,\u2009<i>a</i><sub class=\"lower-index\"><i>x</i></sub></span> of the polygon will be given by <span class=\"tex-span\">2<sup class=\"upper-index\"><i>a</i><sub class=\"lower-index\">1</sub></sup>\u2009+\u20092<sup class=\"upper-index\"><i>a</i><sub class=\"lower-index\">2</sub></sup>\u2009+\u2009...\u2009+\u20092<sup class=\"upper-index\"><i>a</i><sub class=\"lower-index\"><i>x</i></sub></sup></span>. Then, he sorted these regions on the basis of their importance value in ascending order. After that he assigned each region an index from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>k</i></span>, where <span class=\"tex-span\"><i>k</i></span> is the number of regions, and index of region is its position in the sorted array calculated above.</p><p>He wants Moriarty to color the regions using not more than <span class=\"tex-span\">20</span> colors, such that two regions have same color only if all the simple paths between these two regions have at least one region with color value less than the color value assigned to these regions. Simple path between two regions <span class=\"tex-span\"><i>f</i></span> and <span class=\"tex-span\"><i>h</i></span> is a sequence of regions <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\">1</sub>,\u2009<i>r</i><sub class=\"lower-index\">2</sub>,\u2009... <i>r</i><sub class=\"lower-index\"><i>t</i></sub></span> such that <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\">1</sub>\u2009=\u2009<i>f</i></span>, <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>t</i></sub>\u2009=\u2009<i>h</i></span>, for each <span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009&lt;\u2009<i>t</i></span> regions <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i>\u2009+\u20091</sub></span> share an edge, and <span class=\"tex-span\"><i>r</i><sub class=\"lower-index\"><i>i</i></sub>\u2009=\u2009<i>r</i><sub class=\"lower-index\"><i>j</i></sub></span> if and only if <span class=\"tex-span\"><i>i</i>\u2009=\u2009<i>j</i></span>.</p><p>Moriarty couldn't answer and asks Sherlock to solve it himself. Help Sherlock in doing so.</p>",
    "inputSpecification": "<p>First line contains two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>m</i></span> (<span class=\"tex-span\">3\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009100000</span>, <span class=\"tex-span\">0\u2009\u2264\u2009<i>m</i>\u2009\u2264\u2009<i>n</i>\u2009-\u20093</span>), the number of vertices in the polygon and the number of diagonals added.</p><p>Each of the next <span class=\"tex-span\"><i>m</i></span> lines contains two integers <span class=\"tex-span\"><i>a</i></span> and <span class=\"tex-span\"><i>b</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>a</i>,\u2009<i>b</i>\u2009\u2264\u2009<i>n</i></span>), describing a diagonal between vertices <span class=\"tex-span\"><i>a</i></span> and <span class=\"tex-span\"><i>b</i></span>. It is guaranteed that the diagonals are correct, i.\u00a0e. <span class=\"tex-span\"><i>a</i></span> and <span class=\"tex-span\"><i>b</i></span> don't coincide and are not neighboring. It is guaranteed that the diagonals do not intersect.</p>",
    "outputSpecification": "<p>Let the number of regions be <span class=\"tex-span\"><i>k</i></span>.</p><p>Output <span class=\"tex-span\"><i>k</i></span> space-separated integers, each between <span class=\"tex-span\">1</span> and <span class=\"tex-span\">20</span>, representing the colors of the regions in the order of increasing importance.</p><p>If there are multiple answers, print any of them. It can be shown that at least one answer exists.</p>",
    "samples": [
        {
            "input": "4 1<br/>1 3<br/>",
            "output": "1 2<br/>"
        },
        {
            "input": "6 3<br/>1 3<br/>1 4<br/>1 5<br/>",
            "output": "2 1 2 3<br/>"
        }
    ],
    "note": "<p>In 2nd input, regions formed in order after sorting will be <span class=\"tex-span\">(1,\u20092,\u20093)</span>, <span class=\"tex-span\">(1,\u20093,\u20094)</span>, <span class=\"tex-span\">(1,\u20094,\u20095)</span>, <span class=\"tex-span\">(1,\u20095,\u20096)</span>, i.e, region <span class=\"tex-span\">(1,\u20092,\u20093)</span> is first region followed by region <span class=\"tex-span\">(1,\u20093,\u20094)</span> and so on.</p><p>So, we can color regions <span class=\"tex-span\">1</span> and <span class=\"tex-span\">3</span> with same color, as region number <span class=\"tex-span\">2</span> is on the path from <span class=\"tex-span\">1</span> to <span class=\"tex-span\">3</span> and it has color <span class=\"tex-span\">1</span> which is less than color of <span class=\"tex-span\">1</span> and <span class=\"tex-span\">3</span>, i.e., color number <span class=\"tex-span\">2</span>.</p>",
    "contestId": 776,
    "index": "F",
    "name": "Sherlock's bet to Moriarty",
    "type": "PROGRAMMING",
    "tags": [
        "constructive algorithms",
        "data structures",
        "divide and conquer",
        "geometry",
        "graphs",
        "implementation",
        "trees"
    ],
    "solvedCount": 420
}