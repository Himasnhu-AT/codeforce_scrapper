{
    "title": "D. Instant Messanger",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>User ainta decided to make a new instant messenger called \"aintalk\". With aintalk, each user can chat with other people. User ainta made the prototype of some functions to implement this thing.</p><ol> <li> <span class=\"tex-font-style-tt\">login(<span class=\"tex-span\"><i>u</i></span>)</span>: User <span class=\"tex-span\"><i>u</i></span> logins into aintalk and becomes online. </li><li> <span class=\"tex-font-style-tt\">logout(<span class=\"tex-span\"><i>u</i></span>)</span>: User <span class=\"tex-span\"><i>u</i></span> logouts and becomes offline. </li><li> <span class=\"tex-font-style-tt\">add_friend(<span class=\"tex-span\"><i>u</i></span>, <span class=\"tex-span\"><i>v</i></span>)</span>: User <span class=\"tex-span\"><i>u</i></span> and user <span class=\"tex-span\"><i>v</i></span> become friends. It means, <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span> can talk with each other. The friendship is bidirectional. </li><li> <span class=\"tex-font-style-tt\">del_friend(<span class=\"tex-span\"><i>u</i></span>, <span class=\"tex-span\"><i>v</i></span>)</span>: Unfriend user <span class=\"tex-span\"><i>u</i></span> and user <span class=\"tex-span\"><i>v</i></span>. It means, <span class=\"tex-span\"><i>u</i></span> and <span class=\"tex-span\"><i>v</i></span> cannot talk with each other from then. </li><li> <span class=\"tex-font-style-tt\">count_online_friends(<span class=\"tex-span\"><i>u</i></span>)</span>: The function returns the number of friends of user <span class=\"tex-span\"><i>u</i></span> who are online at the moment. </li></ol> \u00a0<p>Because the messenger is being tested by some users numbered from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>, there is no register method. This means, at the beginning, some users may be online, and some users may have friends.</p><p>User ainta is going to make these functions, but before making the messenger public, he wants to know whether he is correct. Help ainta verify his code.</p>",
    "inputSpecification": "<p>The first line contains three space-separated integers <span class=\"tex-span\"><i>n</i></span>, <span class=\"tex-span\"><i>m</i></span> and <span class=\"tex-span\"><i>q</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200950000</span>; <span class=\"tex-span\">1\u2009\u2264\u2009<i>m</i>\u2009\u2264\u2009150000</span>; <span class=\"tex-span\">1\u2009\u2264\u2009<i>q</i>\u2009\u2264\u2009250000</span>) \u2014 the number of users, the number of pairs of friends, and the number of queries.</p><p>The second line contains an integer <span class=\"tex-span\"><i>o</i></span> <span class=\"tex-span\">(1\u2009\u2264\u2009<i>o</i>\u2009\u2264\u2009<i>n</i>)</span> \u2014 the number of online users at the beginning. The third line contains <span class=\"tex-span\"><i>o</i></span> space-separated integers <span class=\"tex-span\"><i>x</i><sub class=\"lower-index\">1</sub>,\u2009<i>x</i><sub class=\"lower-index\">2</sub>,\u2009...,\u2009<i>x</i><sub class=\"lower-index\"><i>o</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>x</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i></span>) \u2014 the ids of the online users. It is guaranteed that these values are distinct.</p><p>Each of the next <span class=\"tex-span\"><i>m</i></span> lines contains two space-separated integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> and <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>,\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i>;\u00a0<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2260\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub></span>) \u2014 the ids of two users who are friends at the beginning. It is guaranteed there are no multiple friendship given in the input. Note that the friendship is bidirectional.</p><p>Next <span class=\"tex-span\"><i>q</i></span> lines describe the <span class=\"tex-span\"><i>q</i></span> queries in the format:</p><ul> <li> \"<span class=\"tex-font-style-tt\">O <span class=\"tex-span\"><i>u</i></span></span>\" (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>\u2009\u2264\u2009<i>n</i></span>) : Call <span class=\"tex-font-style-tt\">online(<span class=\"tex-span\"><i>u</i></span>)</span>. It is guaranteed that user <span class=\"tex-span\"><i>u</i></span> was offline just before the function call. </li><li> \"<span class=\"tex-font-style-tt\">F <span class=\"tex-span\"><i>u</i></span></span>\" (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>\u2009\u2264\u2009<i>n</i></span>) : Call <span class=\"tex-font-style-tt\">offline(<span class=\"tex-span\"><i>u</i></span>)</span>. It is guaranteed that user <span class=\"tex-span\"><i>u</i></span> was online just before the function call. </li><li> \"<span class=\"tex-font-style-tt\">A <span class=\"tex-span\"><i>u</i></span> <span class=\"tex-span\"><i>v</i></span></span>\" (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>,\u2009<i>v</i>\u2009\u2264\u2009<i>n</i>;\u00a0<i>u</i>\u2009\u2260\u2009<i>v</i></span>) : Call <span class=\"tex-font-style-tt\">add_friend(<span class=\"tex-span\"><i>u</i>,\u2009<i>v</i></span>)</span>. It is guaranteed that these two users weren't friends just before the function call. </li><li> \"<span class=\"tex-font-style-tt\">D <span class=\"tex-span\"><i>u</i></span> <span class=\"tex-span\"><i>v</i></span></span>\" (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>,\u2009<i>v</i>\u2009\u2264\u2009<i>n</i>;\u00a0<i>u</i>\u2009\u2260\u2009<i>v</i></span>) : Call <span class=\"tex-font-style-tt\">del_friend(<span class=\"tex-span\"><i>u</i>,\u2009<i>v</i></span>)</span>. It is guaranteed that these two users were friends just before the function call. </li><li> \"<span class=\"tex-font-style-tt\">C <span class=\"tex-span\"><i>u</i></span></span>\" (<span class=\"tex-span\">1\u2009\u2264\u2009<i>u</i>\u2009\u2264\u2009<i>n</i></span>) : Call <span class=\"tex-font-style-tt\">count_online_friends(<span class=\"tex-span\"><i>u</i></span>)</span> and print the result in a single line. </li></ul>",
    "outputSpecification": "<p>For each <span class=\"tex-font-style-tt\">count_online_friends(<span class=\"tex-span\"><i>u</i></span>)</span> query, print the required answer in a single line. </p>",
    "samples": [
        {
            "input": "5 2 9<br/>1<br/>4<br/>1 3<br/>3 4<br/>C 3<br/>A 2 5<br/>O 1<br/>D 1 3<br/>A 1 2<br/>A 4 2<br/>C 2<br/>F 4<br/>C 2<br/>",
            "output": "1<br/>2<br/>1<br/>"
        }
    ],
    "note": null,
    "contestId": 398,
    "index": "D",
    "name": "Instant Messanger",
    "type": "PROGRAMMING",
    "tags": [
        "data structures"
    ],
    "solvedCount": 842
}