{
    "title": "D. Weird Chess",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Igor has been into chess for a long time and now he is sick of the game by the ordinary rules. He is going to think of new rules of the game and become world famous.</p><p>Igor's chessboard is a square of size <span class=\"tex-span\"><i>n</i>\u2009\u00d7\u2009<i>n</i></span> cells. Igor decided that simple rules guarantee success, that's why his game will have only one type of pieces. Besides, all pieces in his game are of the same color. The possible moves of a piece are described by a set of <span class=\"tex-font-style-it\">shift vectors</span>. The next passage contains a formal description of available moves.</p><p>Let the rows of the board be numbered from top to bottom and the columns be numbered from left to right from 1 to <span class=\"tex-span\"><i>n</i></span>. Let's assign to each square a pair of integers <span class=\"tex-span\">(<i>x</i>,\u2009<i>y</i>)</span>\u00a0\u2014 the number of the corresponding column and row. Each of the possible moves of the piece is defined by a pair of integers <span class=\"tex-span\">(<i>dx</i>,\u2009<i>dy</i>)</span>; using this move, the piece moves from the field <span class=\"tex-span\">(<i>x</i>,\u2009<i>y</i>)</span> to the field <span class=\"tex-span\">(<i>x</i>\u2009+\u2009<i>dx</i>,\u2009<i>y</i>\u2009+\u2009<i>dy</i>)</span>. You can perform the move if the cell <span class=\"tex-span\">(<i>x</i>\u2009+\u2009<i>dx</i>,\u2009<i>y</i>\u2009+\u2009<i>dy</i>)</span> is within the boundaries of the board and doesn't contain another piece. Pieces that stand on the cells other than <span class=\"tex-span\">(<i>x</i>,\u2009<i>y</i>)</span> and <span class=\"tex-span\">(<i>x</i>\u2009+\u2009<i>dx</i>,\u2009<i>y</i>\u2009+\u2009<i>dy</i>)</span> are not important when considering the possibility of making the given move (for example, like when a knight moves in usual chess).</p><p>Igor offers you to find out what moves his chess piece can make. He placed several pieces on the board and for each unoccupied square he told you whether it is attacked by any present piece (i.e. whether some of the pieces on the field can move to that cell). Restore a possible set of shift vectors of the piece, or else determine that Igor has made a mistake and such situation is impossible for any set of shift vectors.</p>",
    "inputSpecification": "<p>The first line contains a single integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200950</span>).</p><p>The next <span class=\"tex-span\"><i>n</i></span> lines contain <span class=\"tex-span\"><i>n</i></span> characters each describing the position offered by Igor. The <span class=\"tex-span\"><i>j</i></span>-th character of the <span class=\"tex-span\"><i>i</i></span>-th string can have the following values:</p><ul><li> <span class=\"tex-font-style-tt\">o</span> \u2014 in this case the field <span class=\"tex-span\">(<i>i</i>,\u2009<i>j</i>)</span> is occupied by a piece and the field may or may not be attacked by some other piece;</li><li> <span class=\"tex-font-style-tt\">x</span> \u2014 in this case field <span class=\"tex-span\">(<i>i</i>,\u2009<i>j</i>)</span> is attacked by some piece;</li><li> <span class=\"tex-font-style-tt\">.</span> \u2014 in this case field <span class=\"tex-span\">(<i>i</i>,\u2009<i>j</i>)</span> isn't attacked by any piece.</li></ul><p>It is guaranteed that there is at least one piece on the board.</p>",
    "outputSpecification": "<p>If there is a valid set of moves, in the first line print a single word '<span class=\"tex-font-style-tt\">YES</span>' (without the quotes). Next, print the description of the set of moves of a piece in the form of a <span class=\"tex-span\">(2<i>n</i>\u2009-\u20091)\u2009\u00d7\u2009(2<i>n</i>\u2009-\u20091)</span> board, the center of the board has a piece and symbols '<span class=\"tex-font-style-tt\">x</span>' mark cells that are attacked by it, in a format similar to the input. See examples of the output for a full understanding of the format. If there are several possible answers, print any of them.</p><p>If a valid set of moves does not exist, print a single word '<span class=\"tex-font-style-tt\">NO</span>'.</p>",
    "samples": [
        {
            "input": "5<br/>oxxxx<br/>x...x<br/>x...x<br/>x...x<br/>xxxxo<br/>",
            "output": "YES<br/>....x....<br/>....x....<br/>....x....<br/>....x....<br/>xxxxoxxxx<br/>....x....<br/>....x....<br/>....x....<br/>....x....<br/>"
        },
        {
            "input": "6<br/>.x.x..<br/>x.x.x.<br/>.xo..x<br/>x..ox.<br/>.x.x.x<br/>..x.x.<br/>",
            "output": "YES<br/>...........<br/>...........<br/>...........<br/>....x.x....<br/>...x...x...<br/>.....o.....<br/>...x...x...<br/>....x.x....<br/>...........<br/>...........<br/>...........<br/>"
        },
        {
            "input": "3<br/>o.x<br/>oxx<br/>o.x<br/>",
            "output": "NO<br/>"
        }
    ],
    "note": "<p>In the first sample test the piece is a usual chess rook, and in the second sample test the piece is a usual chess knight.</p>",
    "contestId": 538,
    "index": "D",
    "name": "Weird Chess",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "constructive algorithms",
        "implementation"
    ],
    "solvedCount": 2407
}