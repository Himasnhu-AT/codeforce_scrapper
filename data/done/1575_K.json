{
    "title": "K. Knitting Batik",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>Mr. Chanek wants to knit a batik, a traditional cloth from Indonesia. The cloth forms a grid $$$a$$$ with size $$$n \\times m$$$. There are $$$k$$$ colors, and each cell in the grid can be one of the $$$k$$$ colors.</p><p><span class=\"tex-font-style-bf\">Define</span> a sub-rectangle as an ordered pair of two cells $$$((x_1, y_1), (x_2, y_2))$$$, denoting the top-left cell and bottom-right cell (inclusively) of a sub-rectangle in $$$a$$$. Two sub-rectangles $$$((x_1, y_1), (x_2, y_2))$$$ and $$$((x_3, y_3), (x_4, y_4))$$$ have the same pattern if and only if the following holds: </p><ul> <li> they have the same width ($$$x_2 - x_1 = x_4 - x_3$$$); </li><li> they have the same height ($$$y_2 - y_1 = y_4 - y_3$$$); </li><li> for every pair $$$(i, j)$$$ where $$$0 \\leq i \\leq x_2 - x_1$$$ and $$$0 \\leq j \\leq y_2 - y_1$$$, the color of cells $$$(x_1 + i, y_1 + j)$$$ and $$$(x_3 + i, y_3 + j)$$$ are equal. </li></ul><p>Count the number of possible batik color combinations, such that the subrectangles $$$((a_x, a_y),(a_x + r - 1, a_y + c - 1))$$$ and $$$((b_x, b_y),(b_x + r - 1, b_y + c - 1))$$$ have the same pattern.</p><p>Output the answer modulo $$$10^9 + 7$$$.</p>",
    "inputSpecification": "<p>The first line contains five integers $$$n$$$, $$$m$$$, $$$k$$$, $$$r$$$, and $$$c$$$ ($$$1 \\leq n, m \\leq 10^9$$$, $$$1 \\leq k \\leq 10^9$$$, $$$1 \\leq r \\leq \\min(10^6, n)$$$, $$$1 \\leq c \\leq \\min(10^6, m)$$$) \u2014 the size of the batik, the number of colors, and size of the sub-rectangle.</p><p>The second line contains four integers $$$a_x$$$, $$$a_y$$$, $$$b_x$$$, and $$$b_y$$$ ($$$1 \\leq a_x, b_x \\leq n$$$, $$$1 \\leq a_y, b_y \\leq m$$$) \u2014 the top-left corners of the first and second sub-rectangle. Both of the sub-rectangles given are inside the grid ($$$1 \\leq a_x + r - 1$$$, $$$b_x + r - 1 \\leq n$$$, $$$1 \\leq a_y + c - 1$$$, $$$b_y + c - 1 \\leq m$$$).</p>",
    "outputSpecification": "<p>Output an integer denoting the number of possible batik color combinations modulo $$$10^9 + 7$$$.</p>",
    "samples": [
        {
            "input": "\n3 3 2 2 2\n1 1 2 2\n",
            "output": "\n32\n"
        },
        {
            "input": "\n4 5 170845 2 2\n1 4 3 1\n",
            "output": "\n756680455\n"
        }
    ],
    "note": "<p>The following are all $$$32$$$ possible color combinations in the first example.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/8acd6416ab166424de197904eba8e5231e1b928b.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center>",
    "contestId": 1575,
    "index": "K",
    "name": "Knitting Batik",
    "type": "PROGRAMMING",
    "tags": [
        "implementation",
        "math"
    ],
    "solvedCount": 666
}