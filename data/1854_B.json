{
    "title": "B. Earn or Unlock",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 512.0,
        "unit": "megabytes"
    },
    "statement": "<p>Andrea is playing the game <span class=\"tex-font-style-it\">Tanto Cuore</span>.</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/9530fd0a2ed9a8c0f1f686637cff167fb8ac008b.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> </center><p><span class=\"tex-font-style-paragraph\"></span></p><p>He has a deck of $$$n$$$ cards with values $$$a_1, \\ldots, a_n$$$ from top to bottom. Each card can be either locked or unlocked. Initially, only the topmost card is unlocked. </p><p>The game proceeds in turns. In each turn, Andrea chooses an unlocked card in the deck \u2014 the value written on the card is $$$v$$$ \u2014 and performs exactly one of the following two operations: </p><ol> <li> Unlock the first $$$v$$$ <span class=\"tex-font-style-bf\">locked</span> cards in the deck from the top. If there are less than $$$v$$$ locked cards in the deck, then unlock all the locked cards. </li><li> Earn $$$v$$$ <span class=\"tex-font-style-underline\">victory points</span>. </li></ol> In both cases, after performing the operation, he removes the card from the deck.<p>The game ends when all the cards remaining in the deck are locked, or there are no more cards in the deck.</p><p>What is the maximum number of victory points Andrea can earn?</p>",
    "inputSpecification": "<p>The first line contains a single integer $$$n$$$ ($$$1 \\leq n \\leq 10^5$$$) \u2014 the number of cards in the deck.</p><p>The second line contains $$$n$$$ integers $$$a_1, \\ldots, a_n$$$ ($$$0 \\leq a_1, \\ldots, a_n \\leq n$$$) \u2014 the values of the cards in the deck.</p>",
    "outputSpecification": "<p>Output a single integer \u2014 the maximum number of victory points Andrea can earn.</p>",
    "samples": [
        {
            "input": "\n2\n1 2\n",
            "output": "\n2\n"
        },
        {
            "input": "\n5\n2 4 5 0 1\n",
            "output": "\n9\n"
        },
        {
            "input": "\n4\n0 4 4 4\n",
            "output": "\n0\n"
        }
    ],
    "note": "<p>In the first sample test, the deck starts as [unlocked, locked]. Then, Andrea uses the first card to unlock the second card. Then he uses the second card to earn $$$2$$$ victory points.</p><p>In the second sample test, Andrea can use the first card to unlock the second and the third card. Then he uses the second and the third card to earn $$$4+5=9$$$ victory points.</p><p>In the third sample test, Andrea can't unlock any cards or gain any victory points with the first card.</p>",
    "contestId": 1854,
    "index": "B",
    "name": "Earn or Unlock",
    "type": "PROGRAMMING",
    "tags": [
        "bitmasks",
        "brute force",
        "dp"
    ],
    "solvedCount": 3388
}