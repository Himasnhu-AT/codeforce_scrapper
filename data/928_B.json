{
    "title": "B. Chat",
    "timeLimit": {
        "value": 1.0,
        "unit": "second"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>There are times you recall a good old friend and everything you've come through together. Luckily there are social networks\u00a0\u2014 they store all your message history making it easy to know what you argued over 10 years ago.</p><p>More formal, your message history is a sequence of messages ordered by time sent numbered from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span> where <span class=\"tex-span\"><i>n</i></span> is the total number of messages in the chat.</p><p>Each message might contain a link to an earlier message which it is a reply to. When opening a message <span class=\"tex-span\"><i>x</i></span> or getting a link to it, the dialogue is shown in such a way that <span class=\"tex-span\"><i>k</i></span> previous messages, message <span class=\"tex-span\"><i>x</i></span> and <span class=\"tex-span\"><i>k</i></span> next messages are visible (with respect to message <span class=\"tex-span\"><i>x</i></span>). In case there are less than <span class=\"tex-span\"><i>k</i></span> messages somewhere, they are yet all shown.</p><p>Digging deep into your message history, you always read all visible messages and then go by the link in the current message <span class=\"tex-span\"><i>x</i></span> (if there is one) and continue reading in the same manner.</p><p>Determine the number of messages you'll read if your start from message number <span class=\"tex-span\"><i>t</i></span> for all <span class=\"tex-span\"><i>t</i></span> from <span class=\"tex-span\">1</span> to <span class=\"tex-span\"><i>n</i></span>. Calculate these numbers independently. If you start with message <span class=\"tex-span\"><i>x</i></span>, the initial configuration is <span class=\"tex-span\"><i>x</i></span> itself, <span class=\"tex-span\"><i>k</i></span> previous and <span class=\"tex-span\"><i>k</i></span> next messages. Messages read multiple times are considered as one.</p>",
    "inputSpecification": "<p>The first line contains two integers <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\"><i>k</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u200910<sup class=\"upper-index\">5</sup></span>, <span class=\"tex-span\">0\u2009\u2264\u2009<i>k</i>\u2009\u2264\u2009<i>n</i></span>) \u2014 the total amount of messages and the number of previous and next messages visible.</p><p>The second line features a sequence of integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\">1</sub>,\u2009<i>a</i><sub class=\"lower-index\">2</sub>,\u2009...,\u2009<i>a</i><sub class=\"lower-index\"><i>n</i></sub></span> (<span class=\"tex-span\">0\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009&lt;\u2009<i>i</i></span>), where <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> denotes the <span class=\"tex-span\"><i>i</i></span>-th message link destination or zero, if there's no link from <span class=\"tex-span\"><i>i</i></span>. All messages are listed in chronological order. It's guaranteed that the link from message <span class=\"tex-span\"><i>x</i></span> goes to message with number strictly less than <span class=\"tex-span\"><i>x</i></span>.</p>",
    "outputSpecification": "<p>Print <span class=\"tex-span\"><i>n</i></span> integers with <span class=\"tex-span\"><i>i</i></span>-th denoting the number of distinct messages you can read starting from message <span class=\"tex-span\"><i>i</i></span> and traversing the links while possible.</p>",
    "samples": [
        {
            "input": "6 0<br/>0 1 1 2 3 2<br/>",
            "output": "1 2 2 3 3 3 <br/>"
        },
        {
            "input": "10 1<br/>0 1 0 3 4 5 2 3 7 0<br/>",
            "output": "2 3 3 4 5 6 6 6 8 2 <br/>"
        },
        {
            "input": "2 2<br/>0 1<br/>",
            "output": "2 2 <br/>"
        }
    ],
    "note": "<p>Consider <span class=\"tex-span\"><i>i</i>\u2009=\u20096</span> in sample case one. You will read message <span class=\"tex-span\">6</span>, then <span class=\"tex-span\">2</span>, then <span class=\"tex-span\">1</span> and then there will be no link to go.</p><p>In the second sample case <span class=\"tex-span\"><i>i</i>\u2009=\u20096</span> gives you messages <span class=\"tex-span\">5,\u20096,\u20097</span> since <span class=\"tex-span\"><i>k</i>\u2009=\u20091</span>, then <span class=\"tex-span\">4,\u20095,\u20096</span>, then <span class=\"tex-span\">2,\u20093,\u20094</span> and then the link sequence breaks. The number of distinct messages here is equal to <span class=\"tex-span\">6</span>.</p>",
    "contestId": 928,
    "index": "B",
    "name": "Chat",
    "type": "PROGRAMMING",
    "tags": [
        "*special",
        "dp"
    ],
    "solvedCount": 2511
}