{
    "title": "D. Say No to Palindromes",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Let's call the string <span class=\"tex-font-style-bf\">beautiful</span> if it does not contain a substring of length at least $$$2$$$, which is a palindrome. Recall that a palindrome is a string that reads the same way from the first character to the last and from the last character to the first. For example, the strings <span class=\"tex-font-style-tt\">a</span>, <span class=\"tex-font-style-tt\">bab</span>, <span class=\"tex-font-style-tt\">acca</span>, <span class=\"tex-font-style-tt\">bcabcbacb</span> are palindromes, but the strings <span class=\"tex-font-style-tt\">ab</span>, <span class=\"tex-font-style-tt\">abbbaa</span>, <span class=\"tex-font-style-tt\">cccb</span> are not.</p><p>Let's define <span class=\"tex-font-style-bf\">cost</span> of a string as the minimum number of operations so that the string becomes beautiful, if in one operation it is allowed to change any character of the string to one of the first $$$3$$$ letters of the Latin alphabet (in lowercase).</p><p>You are given a string $$$s$$$ of length $$$n$$$, each character of the string is one of the first $$$3$$$ letters of the Latin alphabet (in lowercase).</p><p>You have to answer $$$m$$$ queries\u00a0\u2014 calculate the cost of the substring of the string $$$s$$$ from $$$l_i$$$-th to $$$r_i$$$-th position, inclusive.</p>",
    "inputSpecification": "<p>The first line contains two integers $$$n$$$ and $$$m$$$ ($$$1 \\le n, m \\le 2 \\cdot 10^5$$$)\u00a0\u2014 the length of the string $$$s$$$ and the number of queries.</p><p>The second line contains the string $$$s$$$, it consists of $$$n$$$ characters, each character one of the first $$$3$$$ Latin letters.</p><p>The following $$$m$$$ lines contain two integers $$$l_i$$$ and $$$r_i$$$ ($$$1 \\le l_i \\le r_i \\le n$$$)\u00a0\u2014 parameters of the $$$i$$$-th query.</p>",
    "outputSpecification": "<p>For each query, print a single integer\u00a0\u2014 the cost of the substring of the string $$$s$$$ from $$$l_i$$$-th to $$$r_i$$$-th position, inclusive.</p>",
    "samples": [
        {
            "input": "\n5 4\nbaacb\n1 3\n1 5\n4 5\n2 3\n",
            "output": "\n1\n2\n0\n1\n"
        }
    ],
    "note": "<p>Consider the queries of the example test.</p><ul> <li> in the first query, the substring is <span class=\"tex-font-style-tt\">baa</span>, which can be changed to <span class=\"tex-font-style-tt\">bac</span> in one operation; </li><li> in the second query, the substring is <span class=\"tex-font-style-tt\">baacb</span>, which can be changed to <span class=\"tex-font-style-tt\">cbacb</span> in two operations; </li><li> in the third query, the substring is <span class=\"tex-font-style-tt\">cb</span>, which can be left unchanged; </li><li> in the fourth query, the substring is <span class=\"tex-font-style-tt\">aa</span>, which can be changed to <span class=\"tex-font-style-tt\">ba</span> in one operation. </li></ul>",
    "contestId": 1555,
    "index": "D",
    "name": "Say No to Palindromes",
    "type": "PROGRAMMING",
    "tags": [
        "brute force",
        "constructive algorithms",
        "dp",
        "strings"
    ],
    "solvedCount": 11875
}