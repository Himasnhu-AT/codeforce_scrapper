{
    "title": "C. Watching Fireworks is Fun",
    "timeLimit": {
        "value": 4.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>A festival will be held in a town's main street. There are <span class=\"tex-span\"><i>n</i></span> sections in the main street. The sections are numbered <span class=\"tex-span\">1</span> through <span class=\"tex-span\"><i>n</i></span> from left to right. The distance between each adjacent sections is <span class=\"tex-span\">1</span>.</p><p>In the festival <span class=\"tex-span\"><i>m</i></span> fireworks will be launched. The <span class=\"tex-span\"><i>i</i></span>-th (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009\u2264\u2009<i>m</i></span>) launching is on time <span class=\"tex-span\"><i>t</i><sub class=\"lower-index\"><i>i</i></sub></span> at section <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span>. If you are at section <span class=\"tex-span\"><i>x</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>x</i>\u2009\u2264\u2009<i>n</i></span>) at the time of <span class=\"tex-span\"><i>i</i></span>-th launching, you'll gain happiness value <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>i</i></sub>\u2009-\u2009|<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009-\u2009<i>x</i>|</span> (note that the happiness value might be a negative value).</p><p>You can move up to <span class=\"tex-span\"><i>d</i></span> length units in a unit time interval, but it's prohibited to go out of the main street. Also you can be in an arbitrary section at initial time moment (time equals to <span class=\"tex-span\">1</span>), and want to maximize the sum of happiness that can be gained from watching fireworks. Find the maximum total happiness.</p><p>Note that two or more fireworks can be launched at the same time.</p>",
    "inputSpecification": "<p>The first line contains three integers <span class=\"tex-span\"><i>n</i></span>, <span class=\"tex-span\"><i>m</i></span>, <span class=\"tex-span\"><i>d</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009150000;\u00a01\u2009\u2264\u2009<i>m</i>\u2009\u2264\u2009300;\u00a01\u2009\u2264\u2009<i>d</i>\u2009\u2264\u2009<i>n</i></span>).</p><p>Each of the next <span class=\"tex-span\"><i>m</i></span> lines contains integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span>, <span class=\"tex-span\"><i>b</i><sub class=\"lower-index\"><i>i</i></sub></span>, <span class=\"tex-span\"><i>t</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>n</i>;\u00a01\u2009\u2264\u2009<i>b</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u200910<sup class=\"upper-index\">9</sup>;\u00a01\u2009\u2264\u2009<i>t</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u200910<sup class=\"upper-index\">9</sup></span>). The <span class=\"tex-span\"><i>i</i></span>-th line contains description of the <span class=\"tex-span\"><i>i</i></span>-th launching.</p><p>It is guaranteed that the condition <span class=\"tex-span\"><i>t</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u2009<i>t</i><sub class=\"lower-index\"><i>i</i>\u2009+\u20091</sub></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009&lt;\u2009<i>m</i></span>) will be satisfied.</p>",
    "outputSpecification": "<p>Print a single integer \u2014 the maximum sum of happiness that you can gain from watching all the fireworks.</p><p>Please, do not write the <span class=\"tex-font-style-tt\">%lld</span> specifier to read or write 64-bit integers in C++. It is preferred to use the <span class=\"tex-font-style-tt\">cin</span>, <span class=\"tex-font-style-tt\">cout</span> streams or the <span class=\"tex-font-style-tt\">%I64d</span> specifier.</p>",
    "samples": [
        {
            "input": "50 3 1<br/>49 1 1<br/>26 1 4<br/>6 1 10<br/>",
            "output": "-31<br/>"
        },
        {
            "input": "10 2 1<br/>1 1000 4<br/>9 1000 4<br/>",
            "output": "1992<br/>"
        }
    ],
    "note": null,
    "contestId": 372,
    "index": "C",
    "name": "Watching Fireworks is Fun",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dp",
        "math"
    ],
    "solvedCount": 3725
}