{
    "title": "F. Yet Another Segments Subset",
    "timeLimit": {
        "value": 3.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>You are given $$$n$$$ segments on a coordinate axis $$$OX$$$. The $$$i$$$-th segment has borders $$$[l_i; r_i]$$$. All points $$$x$$$, for which $$$l_i \\le x \\le r_i$$$ holds, belong to the $$$i$$$-th segment.</p><p>Your task is to choose the <span class=\"tex-font-style-bf\">maximum</span> by size (the number of segments) subset of the given set of segments such that each pair of segments in this subset either non-intersecting or one of them lies inside the other one.</p><p>Two segments $$$[l_i; r_i]$$$ and $$$[l_j; r_j]$$$ are non-intersecting if they have <span class=\"tex-font-style-bf\">no common points</span>. For example, segments $$$[1; 2]$$$ and $$$[3; 4]$$$, $$$[1; 3]$$$ and $$$[5; 5]$$$ are non-intersecting, while segments $$$[1; 2]$$$ and $$$[2; 3]$$$, $$$[1; 2]$$$ and $$$[2; 2]$$$ are intersecting.</p><p>The segment $$$[l_i; r_i]$$$ lies inside the segment $$$[l_j; r_j]$$$ if $$$l_j \\le l_i$$$ and $$$r_i \\le r_j$$$. For example, segments $$$[2; 2]$$$, $$$[2, 3]$$$, $$$[3; 4]$$$ and $$$[2; 4]$$$ lie inside the segment $$$[2; 4]$$$, while $$$[2; 5]$$$ and $$$[1; 4]$$$ are not.</p><p>You have to answer $$$t$$$ independent test cases.</p>",
    "inputSpecification": "<p>The first line of the input contains one integer $$$t$$$ ($$$1 \\le t \\le 1000$$$) \u2014 the number of test cases. Then $$$t$$$ test cases follow.</p><p>The first line of the test case contains one integer $$$n$$$ ($$$1 \\le n \\le 3000$$$) \u2014 the number of segments. The next $$$n$$$ lines describe segments. The $$$i$$$-th segment is given as two integers $$$l_i$$$ and $$$r_i$$$ ($$$1 \\le l_i \\le r_i \\le 2 \\cdot 10^5$$$), where $$$l_i$$$ is the left border of the $$$i$$$-th segment and $$$r_i$$$ is the right border of the $$$i$$$-th segment.</p><p>Additional constraint on the input: there are <span class=\"tex-font-style-bf\">no duplicates</span> in the list of segments.</p><p>It is guaranteed that the sum of $$$n$$$ does not exceed $$$3000$$$ ($$$\\sum n \\le 3000$$$).</p>",
    "outputSpecification": "<p>For each test case, print the answer: the <span class=\"tex-font-style-bf\">maximum</span> possible size of the subset of the given set of segments such that each pair of segments in this subset either non-intersecting or one of them lies inside the other one.</p>",
    "samples": [
        {
            "input": "\n4\n4\n1 5\n2 4\n2 3\n3 4\n5\n1 5\n2 3\n2 5\n3 5\n2 2\n3\n1 3\n2 4\n2 3\n7\n1 10\n2 8\n2 5\n3 4\n4 4\n6 8\n7 7\n",
            "output": "\n3\n4\n2\n7\n"
        }
    ],
    "note": null,
    "contestId": 1399,
    "index": "F",
    "name": "Yet Another Segments Subset",
    "type": "PROGRAMMING",
    "tags": [
        "data structures",
        "dp",
        "graphs",
        "sortings"
    ],
    "solvedCount": 1570
}