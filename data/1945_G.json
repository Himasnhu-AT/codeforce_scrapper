{
    "title": "G. Cook and Porridge",
    "timeLimit": {
        "value": 2.0,
        "unit": "seconds"
    },
    "memoryLimit": {
        "value": 256.0,
        "unit": "megabytes"
    },
    "statement": "<p>Finally, lunchtime!</p><p>$$$n$$$ schoolchildren have lined up in a long queue at the cook's tent for porridge. The cook will be serving porridge for $$$D$$$ minutes. The schoolchild standing in the $$$i$$$-th position in the queue has a priority of $$$k_i$$$ and eats one portion of porridge in $$$s_i$$$ minutes.</p><p><span class=\"tex-font-style-bf\">At the beginning</span> of each minute of the break, the cook serves the first schoolchild in the queue one portion of porridge, after which the schoolchild goes to eat their portion. If the $$$i$$$-th schoolchild is served a portion at the beginning of the $$$x$$$-th minute, then they will return to the queue <span class=\"tex-font-style-bf\">at the end</span> of the $$$(x + s_i)$$$-th minute.</p><p>When the $$$i$$$-th schoolchild returns to the queue, the schoolchildren at the end of the queue whose priority is <span class=\"tex-font-style-bf\">strictly lower</span> than that of the $$$i$$$-th schoolchild must let them pass. Thus, they will stand in the queue behind the last schoolchild whose priority is <span class=\"tex-font-style-bf\">not lower</span> than their own. That is, behind the last schoolchild $$$j$$$ with $$$k_j \\ge k_i$$$. If there is no such schoolchild in the queue, the $$$i$$$-th schoolchild will stand at the front of the queue.</p><p>If several schoolchildren return at the same time, they will return to the queue in ascending order of their $$$s_i$$$.</p><p>For example, if $$$n = 3$$$, $$$D = 3$$$, $$$k = [2, 3, 2]$$$, and $$$s = [2, 1, 3]$$$, the serving will occur as follows:</p><ul> <li> At the beginning of minute $$$1$$$, the students in the queue are $$$[1, 2, 3]$$$, and student $$$1$$$ is served porridge; </li><li> at the beginning of minute $$$2$$$, the students in the queue are $$$[2, 3]$$$, and student $$$2$$$ is served porridge; </li><li> at the beginning of minute $$$3$$$, the student in the queue is $$$[3]$$$, and student $$$3$$$ is served porridge; </li><li> at the end of minute $$$3$$$, student $$$2$$$ returns to the queue, and the queue becomes $$$[2]$$$; </li><li> at the end of minute $$$3$$$, student $$$1$$$ returns to the queue, and the queue becomes $$$[2, 1]$$$, as his priority is lower. </li></ul><p>Determine the minimum number of minutes after the start of the break that each schoolchild will receive porridge at least once, or report that this will not happen within $$$D$$$ minutes.</p>",
    "inputSpecification": "<p>Each test consists of several test cases. The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 1000$$$)\u00a0\u2014 the number of test cases. This is followed by a description of the test cases.</p><p>The first line of each test case contains two integers $$$n$$$ and $$$D$$$ ($$$1 \\le n \\le 2 \\cdot 10^5$$$, $$$1 \\le D \\le 3\\cdot 10^5$$$)\u00a0\u2014 the number of schoolchildren in the queue and the break time, respectively.</p><p>The next $$$n$$$ lines contain two integers $$$k_i$$$ and $$$s_i$$$ ($$$1 \\le k_i, s_i, \\le 10^9$$$)\u00a0\u2014 the priority and the time to eat one portion of porridge for the respective schoolchild. The schoolchildren are given in the order they stand in the queue (from the front to the end).</p><p>It is guaranteed that the sum of the values of $$$n$$$ for all input data sets does not exceed $$$2\\cdot 10^5$$$. Similarly, it is guaranteed that the sum of the values of $$$D$$$ for all input data sets does not exceed $$$3\\cdot 10^5$$$.</p>",
    "outputSpecification": "<p>For each test case, output the minimum number of minutes after which each schoolchild will receive porridge at least once. If this does not happen within the break time, output $$$-1$$$.</p>",
    "samples": [
        {
            "input": "\n<div class=\"test-example-line test-example-line-even test-example-line-0\">7</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 3</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 2</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">3 1</div><div class=\"test-example-line test-example-line-odd test-example-line-1\">2 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5 10</div><div class=\"test-example-line test-example-line-even test-example-line-2\">10 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">7 1</div><div class=\"test-example-line test-example-line-even test-example-line-2\">11 3</div><div class=\"test-example-line test-example-line-even test-example-line-2\">5 1</div><div class=\"test-example-line test-example-line-even test-example-line-2\">6 1</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">5 20</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">7 2</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">8 5</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">1 5</div><div class=\"test-example-line test-example-line-odd test-example-line-3\">3 1</div><div class=\"test-example-line test-example-line-even test-example-line-4\">5 17</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 3</div><div class=\"test-example-line test-example-line-even test-example-line-4\">8 2</div><div class=\"test-example-line test-example-line-even test-example-line-4\">8 3</div><div class=\"test-example-line test-example-line-even test-example-line-4\">2 2</div><div class=\"test-example-line test-example-line-even test-example-line-4\">1 1</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">5 14</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">8 2</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">1 3</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">8 3</div><div class=\"test-example-line test-example-line-odd test-example-line-5\">6 4</div><div class=\"test-example-line test-example-line-even test-example-line-6\">1 11</div><div class=\"test-example-line test-example-line-even test-example-line-6\">4 5</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">5 14</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">8 2</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">4 2</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">1 3</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">8 3</div><div class=\"test-example-line test-example-line-odd test-example-line-7\">6 4</div>",
            "output": "\n3\n-1\n12\n6\n6\n1\n6\n"
        }
    ],
    "note": null,
    "contestId": 1945,
    "index": "G",
    "name": "Cook and Porridge",
    "type": "PROGRAMMING",
    "tags": [
        "binary search",
        "constructive algorithms",
        "data structures",
        "implementation"
    ],
    "solvedCount": 654
}